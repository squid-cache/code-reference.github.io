<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Squid Web Cache: MemPools Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Squid Web Cache<span id="projectnumber">&#160;master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classMemPools.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classMemPools-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">MemPools Class Reference<div class="ingroups"><a class="el" href="group__Components.html">Squid Components</a> &raquo; <a class="el" href="group__MemPoolsAPI.html">Memory Management (Memory Pool Allocator)</a></div></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="Pool_8h_source.html">Pool.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for MemPools:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMemPools__coll__graph.svg" width="414" height="432"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a27e5fba3ee73d59387d0c6498c764f22" id="r_a27e5fba3ee73d59387d0c6498c764f22"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemPools.html#a27e5fba3ee73d59387d0c6498c764f22">MemPools</a> ()</td></tr>
<tr class="separator:a27e5fba3ee73d59387d0c6498c764f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad139d0b40c1ebfd1d98b3a5497df8822" id="r_ad139d0b40c1ebfd1d98b3a5497df8822"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemPools.html#ad139d0b40c1ebfd1d98b3a5497df8822">flushMeters</a> ()</td></tr>
<tr class="separator:ad139d0b40c1ebfd1d98b3a5497df8822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad96132e333d0ada46e9196d9af5fc200" id="r_ad96132e333d0ada46e9196d9af5fc200"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMem_1_1Allocator.html">Mem::Allocator</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemPools.html#ad96132e333d0ada46e9196d9af5fc200">create</a> (const char *, <a class="el" href="stub__liblog_8cc.html#a95f7889ed17fb3324addbb3d5dacc9bc">size_t</a>)</td></tr>
<tr class="separator:ad96132e333d0ada46e9196d9af5fc200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a074d3826b1f273146c35568d179c340b" id="r_a074d3826b1f273146c35568d179c340b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemPools.html#a074d3826b1f273146c35568d179c340b">setIdleLimit</a> (const ssize_t newLimit)</td></tr>
<tr class="separator:a074d3826b1f273146c35568d179c340b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a855b1f6dfaed2789d6841f38668dce7d" id="r_a855b1f6dfaed2789d6841f38668dce7d"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemPools.html#a855b1f6dfaed2789d6841f38668dce7d">idleLimit</a> () const</td></tr>
<tr class="separator:a855b1f6dfaed2789d6841f38668dce7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af34a83f9e76ed28e585fcd7370154648" id="r_af34a83f9e76ed28e585fcd7370154648"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemPools.html#af34a83f9e76ed28e585fcd7370154648">clean</a> (time_t maxage)</td></tr>
<tr class="separator:af34a83f9e76ed28e585fcd7370154648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a199d84f219f0b8e688e8a226fb0e74f1" id="r_a199d84f219f0b8e688e8a226fb0e74f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemPools.html#a199d84f219f0b8e688e8a226fb0e74f1">setDefaultPoolChunking</a> (bool const &amp;)</td></tr>
<tr class="separator:a199d84f219f0b8e688e8a226fb0e74f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af08ee0ad586dcd118f9a930ca303c7a6" id="r_af08ee0ad586dcd118f9a930ca303c7a6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classMemPools.html">MemPools</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemPools.html#af08ee0ad586dcd118f9a930ca303c7a6">GetInstance</a> ()</td></tr>
<tr class="separator:af08ee0ad586dcd118f9a930ca303c7a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ac03b96e2d93a381914838bcc656118dd" id="r_ac03b96e2d93a381914838bcc656118dd"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classMem_1_1Allocator.html">Mem::Allocator</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemPools.html#ac03b96e2d93a381914838bcc656118dd">pools</a></td></tr>
<tr class="separator:ac03b96e2d93a381914838bcc656118dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1844fabd5c7b4ecc4ef158afa2f2c91f" id="r_a1844fabd5c7b4ecc4ef158afa2f2c91f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemPools.html#a1844fabd5c7b4ecc4ef158afa2f2c91f">defaultIsChunked</a> = false</td></tr>
<tr class="separator:a1844fabd5c7b4ecc4ef158afa2f2c91f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a7a392f6e089ddc4aa67b9eb5f718c4e0" id="r_a7a392f6e089ddc4aa67b9eb5f718c4e0"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemPools.html#a7a392f6e089ddc4aa67b9eb5f718c4e0">idleLimit_</a> = (2 &lt;&lt; 20)</td></tr>
<tr class="separator:a7a392f6e089ddc4aa67b9eb5f718c4e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="Pool_8h_source.html#l00060">60</a> of file <a class="el" href="Pool_8h_source.html">Pool.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a27e5fba3ee73d59387d0c6498c764f22" name="a27e5fba3ee73d59387d0c6498c764f22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27e5fba3ee73d59387d0c6498c764f22">&#9670;&#160;</a></span>MemPools()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MemPools::MemPools </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Pool_8cc_source.html#l00040">40</a> of file <a class="el" href="Pool_8cc_source.html">Pool.cc</a>.</p>

<p class="reference">References <a class="el" href="classMemPools.html#a1844fabd5c7b4ecc4ef158afa2f2c91f">defaultIsChunked</a>.</p>

<p class="reference">Referenced by <a class="el" href="classMemPools.html#af08ee0ad586dcd118f9a930ca303c7a6">GetInstance()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af34a83f9e76ed28e585fcd7370154648" name="af34a83f9e76ed28e585fcd7370154648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af34a83f9e76ed28e585fcd7370154648">&#9670;&#160;</a></span>clean()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MemPools::clean </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>maxage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section user"><dt></dt><dd>Main cleanup handler. For <a class="el" href="classMemPools.html">MemPools</a> to stay within upper idle limits, this function needs to be called periodically, preferably at some constant rate, eg. from Squid event. It looks through all pools and chunks, cleans up internal states and checks for releasable chunks.</dd></dl>
<dl class="section user"><dt></dt><dd>Between the calls to this function objects are placed onto internal cache instead of returning to their home chunks, mainly for speedup purpose. During that time state of chunk is not known, it is not known whether chunk is free or in use. This call returns all objects to their chunks and restores consistency.</dd></dl>
<dl class="section user"><dt></dt><dd>Should be called relatively often, as it sorts chunks in suitable order as to reduce free memory fragmentation and increase chunk utilisation. Suitable frequency for cleanup is in range of few tens of seconds to few minutes, depending of memory activity.</dd></dl>
<p>TODO: DOCS: Re-write this shorter!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">maxage</td><td>Release all totally idle chunks that have not been referenced for maxage seconds. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Pool_8cc_source.html#l00105">105</a> of file <a class="el" href="Pool_8cc_source.html">Pool.cc</a>.</p>

<p class="reference">References <a class="el" href="classMem_1_1Meter.html#a32b2421339222ff4523f9bda5a7d50c1">Mem::Meter::currentLevel()</a>, <a class="el" href="classMemPools.html#ad139d0b40c1ebfd1d98b3a5497df8822">flushMeters()</a>, <a class="el" href="classMem_1_1PoolMeter.html#a0b5b8e06aea8f57a4a5d235493e5ffa3">Mem::PoolMeter::idle</a>, <a class="el" href="classMemPools.html#a855b1f6dfaed2789d6841f38668dce7d">idleLimit()</a>, <a class="el" href="classMemPools.html#ac03b96e2d93a381914838bcc656118dd">pools</a>, and <a class="el" href="Pool_8h.html#ac944d2d033a30c1046ad1557da54c0ee">TheMeter</a>.</p>

<p class="reference">Referenced by <a class="el" href="namespaceMem.html#ab23dbe0949badaf9c6ccd259c2059ddf">Mem::CleanIdlePools()</a>, and <a class="el" href="mem_2forward_8h.html#a3a14bdffedfd5efe14622152d8805f2d">memClean()</a>.</p>

</div>
</div>
<a id="ad96132e333d0ada46e9196d9af5fc200" name="ad96132e333d0ada46e9196d9af5fc200"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad96132e333d0ada46e9196d9af5fc200">&#9670;&#160;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMem_1_1Allocator.html">Mem::Allocator</a> * MemPools::create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stub__liblog_8cc.html#a95f7889ed17fb3324addbb3d5dacc9bc">size_t</a>&#160;</td>
          <td class="paramname"><em>obj_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create an allocator with given name to allocate fixed-size objects of the specified size. </p>

<p class="definition">Definition at line <a class="el" href="Pool_8cc_source.html#l00047">47</a> of file <a class="el" href="Pool_8cc_source.html">Pool.cc</a>.</p>

<p class="reference">References <a class="el" href="classMemPools.html#a1844fabd5c7b4ecc4ef158afa2f2c91f">defaultIsChunked</a>, and <a class="el" href="classMemPools.html#ac03b96e2d93a381914838bcc656118dd">pools</a>.</p>

<p class="reference">Referenced by <a class="el" href="classMem_1_1AllocatorProxy.html#a2138f41d1d3012b931b04a5c1e215ecb">Mem::AllocatorProxy::getAllocator()</a>.</p>

</div>
</div>
<a id="ad139d0b40c1ebfd1d98b3a5497df8822" name="ad139d0b40c1ebfd1d98b3a5497df8822"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad139d0b40c1ebfd1d98b3a5497df8822">&#9670;&#160;</a></span>flushMeters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MemPools::flushMeters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Pool_8cc_source.html#l00072">72</a> of file <a class="el" href="Pool_8cc_source.html">Pool.cc</a>.</p>

<p class="reference">References <a class="el" href="classMem_1_1PoolMeter.html#a5dd58a536f8b4db4a38b725572e5221b">Mem::PoolMeter::alloc</a>, <a class="el" href="classMem_1_1Meter.html#a32b2421339222ff4523f9bda5a7d50c1">Mem::Meter::currentLevel()</a>, <a class="el" href="classMem_1_1PoolMeter.html#a137f892d6c654e986bdbf369faaf1f0a">Mem::PoolMeter::flush()</a>, <a class="el" href="classMem_1_1PoolMeter.html#a3c3c8f6858fd02dcc0356cb307c2c673">Mem::PoolMeter::gb_allocated</a>, <a class="el" href="classMem_1_1PoolMeter.html#af114c32304064aa2a00ddb32dcea72dc">Mem::PoolMeter::gb_freed</a>, <a class="el" href="classMem_1_1PoolMeter.html#aa54600ac670488f0465a03009fce4b49">Mem::PoolMeter::gb_saved</a>, <a class="el" href="classMem_1_1PoolMeter.html#a0b5b8e06aea8f57a4a5d235493e5ffa3">Mem::PoolMeter::idle</a>, <a class="el" href="classMem_1_1PoolMeter.html#a7941469c8576cb55f87c43cd72c0e4e0">Mem::PoolMeter::inuse</a>, <a class="el" href="classMemPools.html#ac03b96e2d93a381914838bcc656118dd">pools</a>, and <a class="el" href="Pool_8h.html#ac944d2d033a30c1046ad1557da54c0ee">TheMeter</a>.</p>

<p class="reference">Referenced by <a class="el" href="classMemPools.html#af34a83f9e76ed28e585fcd7370154648">clean()</a>, and <a class="el" href="namespaceMem.html#a5977677e09434db97ae1ee99fa9b3d0b">Mem::GlobalStats()</a>.</p>

</div>
</div>
<a id="af08ee0ad586dcd118f9a930ca303c7a6" name="af08ee0ad586dcd118f9a930ca303c7a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af08ee0ad586dcd118f9a930ca303c7a6">&#9670;&#160;</a></span>GetInstance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMemPools.html">MemPools</a> &amp; MemPools::GetInstance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Pool_8cc_source.html#l00027">27</a> of file <a class="el" href="Pool_8cc_source.html">Pool.cc</a>.</p>

<p class="reference">References <a class="el" href="classMemPools.html#a27e5fba3ee73d59387d0c6498c764f22">MemPools()</a>.</p>

<p class="reference">Referenced by <a class="el" href="namespaceMem.html#ab23dbe0949badaf9c6ccd259c2059ddf">Mem::CleanIdlePools()</a>, <a class="el" href="classMemPoolMalloc.html#ab1603eb198200b7763e6899665663e04">MemPoolMalloc::deallocate()</a>, <a class="el" href="classMem_1_1AllocatorProxy.html#a2138f41d1d3012b931b04a5c1e215ecb">Mem::AllocatorProxy::getAllocator()</a>, <a class="el" href="namespaceMem.html#a5977677e09434db97ae1ee99fa9b3d0b">Mem::GlobalStats()</a>, <a class="el" href="mem_2forward_8h.html#a3a14bdffedfd5efe14622152d8805f2d">memClean()</a>, <a class="el" href="mem_2forward_8h.html#aedf7ed9e797f6486fbba42870965dda6">memConfigure()</a>, and <a class="el" href="namespaceMem.html#a8754413a49a36ddd595789a38f798331">Mem::Report()</a>.</p>

</div>
</div>
<a id="a855b1f6dfaed2789d6841f38668dce7d" name="a855b1f6dfaed2789d6841f38668dce7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a855b1f6dfaed2789d6841f38668dce7d">&#9670;&#160;</a></span>idleLimit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t MemPools::idleLimit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Limits the cumulative size of allocated (but unused) memory in all pools. Initial value is 2MB until first configuration, See squid.conf memory_pools_limit directive.   </p>

<p class="definition">Definition at line <a class="el" href="Pool_8h_source.html#l00080">80</a> of file <a class="el" href="Pool_8h_source.html">Pool.h</a>.</p>

<p class="reference">References <a class="el" href="classMemPools.html#a7a392f6e089ddc4aa67b9eb5f718c4e0">idleLimit_</a>.</p>

<p class="reference">Referenced by <a class="el" href="classMemPools.html#af34a83f9e76ed28e585fcd7370154648">clean()</a>.</p>

</div>
</div>
<a id="a199d84f219f0b8e688e8a226fb0e74f1" name="a199d84f219f0b8e688e8a226fb0e74f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a199d84f219f0b8e688e8a226fb0e74f1">&#9670;&#160;</a></span>setDefaultPoolChunking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MemPools::setDefaultPoolChunking </td>
          <td>(</td>
          <td class="paramtype">bool const &amp;&#160;</td>
          <td class="paramname"><em>aBool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Pool_8cc_source.html#l00063">63</a> of file <a class="el" href="Pool_8cc_source.html">Pool.cc</a>.</p>

<p class="reference">References <a class="el" href="classMemPools.html#a1844fabd5c7b4ecc4ef158afa2f2c91f">defaultIsChunked</a>.</p>

</div>
</div>
<a id="a074d3826b1f273146c35568d179c340b" name="a074d3826b1f273146c35568d179c340b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a074d3826b1f273146c35568d179c340b">&#9670;&#160;</a></span>setIdleLimit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MemPools::setIdleLimit </td>
          <td>(</td>
          <td class="paramtype">const ssize_t&#160;</td>
          <td class="paramname"><em>newLimit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets upper limit in bytes to amount of free ram kept in pools. This is not strict upper limit, but a hint. When <a class="el" href="classMemPools.html">MemPools</a> are over this limit, deallocate attempts to release memory to the system instead of pooling. </p>

<p class="definition">Definition at line <a class="el" href="Pool_8h_source.html#l00078">78</a> of file <a class="el" href="Pool_8h_source.html">Pool.h</a>.</p>

<p class="reference">References <a class="el" href="classMemPools.html#a7a392f6e089ddc4aa67b9eb5f718c4e0">idleLimit_</a>.</p>

<p class="reference">Referenced by <a class="el" href="mem_2forward_8h.html#a3a14bdffedfd5efe14622152d8805f2d">memClean()</a>, and <a class="el" href="mem_2forward_8h.html#aedf7ed9e797f6486fbba42870965dda6">memConfigure()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1844fabd5c7b4ecc4ef158afa2f2c91f" name="a1844fabd5c7b4ecc4ef158afa2f2c91f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1844fabd5c7b4ecc4ef158afa2f2c91f">&#9670;&#160;</a></span>defaultIsChunked</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MemPools::defaultIsChunked = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Pool_8h_source.html#l00113">113</a> of file <a class="el" href="Pool_8h_source.html">Pool.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="classMemPools.html#a27e5fba3ee73d59387d0c6498c764f22">MemPools()</a>, <a class="el" href="classMemPools.html#ad96132e333d0ada46e9196d9af5fc200">create()</a>, and <a class="el" href="classMemPools.html#a199d84f219f0b8e688e8a226fb0e74f1">setDefaultPoolChunking()</a>.</p>

</div>
</div>
<a id="a7a392f6e089ddc4aa67b9eb5f718c4e0" name="a7a392f6e089ddc4aa67b9eb5f718c4e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a392f6e089ddc4aa67b9eb5f718c4e0">&#9670;&#160;</a></span>idleLimit_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t MemPools::idleLimit_ = (2 &lt;&lt; 20)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Limits the cumulative size of allocated (but unused) memory in all pools. Initial value is 2MB until first configuration, See squid.conf memory_pools_limit directive. </p>

<p class="definition">Definition at line <a class="el" href="Pool_8h_source.html#l00119">119</a> of file <a class="el" href="Pool_8h_source.html">Pool.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="classMemPools.html#a855b1f6dfaed2789d6841f38668dce7d">idleLimit()</a>, and <a class="el" href="classMemPools.html#a074d3826b1f273146c35568d179c340b">setIdleLimit()</a>.</p>

</div>
</div>
<a id="ac03b96e2d93a381914838bcc656118dd" name="ac03b96e2d93a381914838bcc656118dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac03b96e2d93a381914838bcc656118dd">&#9670;&#160;</a></span>pools</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;<a class="el" href="classMem_1_1Allocator.html">Mem::Allocator</a> *&gt; MemPools::pools</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Pool_8h_source.html#l00112">112</a> of file <a class="el" href="Pool_8h_source.html">Pool.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="classMemPools.html#af34a83f9e76ed28e585fcd7370154648">clean()</a>, <a class="el" href="classMemPools.html#ad96132e333d0ada46e9196d9af5fc200">create()</a>, <a class="el" href="classMemPools.html#ad139d0b40c1ebfd1d98b3a5497df8822">flushMeters()</a>, <a class="el" href="namespaceMem.html#a5977677e09434db97ae1ee99fa9b3d0b">Mem::GlobalStats()</a>, and <a class="el" href="namespaceMem.html#a8754413a49a36ddd595789a38f798331">Mem::Report()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>squid/src/mem/<a class="el" href="Pool_8h_source.html">Pool.h</a></li>
<li>squid/src/mem/<a class="el" href="Pool_8cc_source.html">Pool.cc</a></li>
<li>squid/src/tests/<a class="el" href="stub__libmem_8cc_source.html">stub_libmem.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classMemPools.html">MemPools</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
