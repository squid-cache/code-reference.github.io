<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Squid Web Cache: squid/src/FwdState.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Squid Web Cache<span id="projectnumber">&#160;master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('FwdState_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">FwdState.h</div></div>
</div><!--header-->
<div class="contents">
<a href="FwdState_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment"> * Copyright (C) 1996-2025 The Squid Software Foundation and contributors</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"> *</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"> * Squid software is distributed under GPLv2+ license and includes</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment"> * contributions from numerous individuals and organizations.</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"> * Please see the COPYING and CONTRIBUTORS files for details.</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment"> */</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#ifndef SQUID_SRC_FWDSTATE_H</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#define SQUID_SRC_FWDSTATE_H</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span> </div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &quot;<a class="code" href="base_2forward_8h.html">base/forward.h</a>&quot;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &quot;<a class="code" href="JobWait_8h.html">base/JobWait.h</a>&quot;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;<a class="code" href="RefCount_8h.html">base/RefCount.h</a>&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;<a class="code" href="clients_2forward_8h.html">clients/forward.h</a>&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="comm_8h.html">comm.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="Connection_8h.html">comm/Connection.h</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="error_2forward_8h.html">error/forward.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="fde_8h.html">fde.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="StatusCode_8h.html">http/StatusCode.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="ip_2Address_8h.html">ip/Address.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="ip_2forward_8h.html">ip/forward.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="PeerSelectState_8h.html">PeerSelectState.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="ResolvedPeers_8h.html">ResolvedPeers.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="security_2forward_8h.html">security/forward.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#if USE_OPENSSL</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="ssl_2support_8h.html">ssl/support.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span> </div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="comment">/* forward decls */</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span> </div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="keyword">class </span><a class="code hl_class" href="classAccessLogEntry.html">AccessLogEntry</a>;</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno"><a class="line" href="FwdState_8h.html#ac74f3c646623a07a288f53ff45ac48a8">   33</a></span><span class="keyword">typedef</span> <a class="code hl_class" href="classRefCount.html">RefCount&lt;AccessLogEntry&gt;</a> <a class="code hl_typedef" href="FwdState_8h.html#ac74f3c646623a07a288f53ff45ac48a8">AccessLogEntryPointer</a>;</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="keyword">class </span><a class="code hl_class" href="classHttpRequest.html">HttpRequest</a>;</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="keyword">class </span><a class="code hl_class" href="classPconnPool.html">PconnPool</a>;</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="keyword">class </span><a class="code hl_class" href="classResolvedPeers.html">ResolvedPeers</a>;</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno"><a class="line" href="FwdState_8h.html#a51692ff70e19aa5c282e9b7db21465bf">   37</a></span><span class="keyword">typedef</span> <a class="code hl_class" href="classRefCount.html">RefCount&lt;ResolvedPeers&gt;</a> <a class="code hl_typedef" href="FwdState_8h.html#a51692ff70e19aa5c282e9b7db21465bf">ResolvedPeersPointer</a>;</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span> </div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="keyword">class </span><a class="code hl_class" href="classHappyConnOpener.html">HappyConnOpener</a>;</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="keyword">class </span><a class="code hl_class" href="classHappyConnOpenerAnswer.html">HappyConnOpenerAnswer</a>;</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span> </div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="keywordtype">void</span> <a class="code hl_function" href="FwdState_8h.html#a97f0fe83bfec5b098a49215863edbfff">GetMarkingsToServer</a>(<a class="code hl_class" href="classHttpRequest.html">HttpRequest</a> * request, <a class="code hl_class" href="classComm_1_1Connection.html">Comm::Connection</a> &amp;<a class="code hl_variable" href="classHappyConnOpenerAnswer.html#a6d337d19f02643269cc2c57f0dd60d18">conn</a>);</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="keywordtype">void</span> <a class="code hl_function" href="FwdState_8h.html#ad939c867d3afce11f2a6bb41243eb34e">ResetMarkingsToServer</a>(<a class="code hl_class" href="classHttpRequest.html">HttpRequest</a> *, <a class="code hl_class" href="classComm_1_1Connection.html">Comm::Connection</a> &amp;);</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="keyword">class </span>HelperReply;</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span> </div>
<div class="foldopen" id="foldopen00057" data-start="{" data-end="};">
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="classPeeringActivityTimer.html">   57</a></span><span class="keyword">class </span><a class="code hl_class" href="classPeeringActivityTimer.html">PeeringActivityTimer</a></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>{</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <a class="code hl_class" href="classPeeringActivityTimer.html">PeeringActivityTimer</a>(<span class="keyword">const</span> <a class="code hl_class" href="classRefCount.html">HttpRequestPointer</a> &amp;); </div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <a class="code hl_function" href="classPeeringActivityTimer.html#ab128046e264e7f990757d1367716c3bb">~PeeringActivityTimer</a>(); </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span> </div>
<div class="foldopen" id="foldopen00064" data-start="{" data-end="}">
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno"><a class="line" href="classPeeringActivityTimer.html#a953168b1d780e94ba236f74968580345">   64</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classPeeringActivityTimer.html#a953168b1d780e94ba236f74968580345">stop</a>()</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>    {</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classPeeringActivityTimer.html#ace7997800bb708d129dfa86fd35afb70">stopped</a>) {</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>            <a class="code hl_function" href="classPeeringActivityTimer.html#a9cbf1b7195117403daf60d37dd020b89">timer</a>().<a class="code hl_function" href="classStopwatch.html#a2cc48295d6b083361d062b8eb68d753a">pause</a>();</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>            <a class="code hl_variable" href="classPeeringActivityTimer.html#ace7997800bb708d129dfa86fd35afb70">stopped</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>        }</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    }</div>
</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span> </div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <a class="code hl_class" href="classStopwatch.html">Stopwatch</a> &amp;<a class="code hl_function" href="classPeeringActivityTimer.html#a9cbf1b7195117403daf60d37dd020b89">timer</a>();</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span> </div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno"><a class="line" href="classPeeringActivityTimer.html#a9f8367d2e97ca0e2f1dcaf5d79ceb0c0">   77</a></span>    <a class="code hl_class" href="classRefCount.html">HttpRequestPointer</a> <a class="code hl_variable" href="classPeeringActivityTimer.html#a9f8367d2e97ca0e2f1dcaf5d79ceb0c0">request</a>;</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span> </div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    <span class="comment">// We cannot rely on timer().ran(): This class eliminates excessive calls</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    <span class="comment">// within a single task (e.g., an AsyncJob) while the timer (and its ran()</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    <span class="comment">// state) may be shared/affected by multiple concurrent tasks.</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno"><a class="line" href="classPeeringActivityTimer.html#ace7997800bb708d129dfa86fd35afb70">   83</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="classPeeringActivityTimer.html#ace7997800bb708d129dfa86fd35afb70">stopped</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>};</div>
</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span> </div>
<div class="foldopen" id="foldopen00086" data-start="{" data-end="};">
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno"><a class="line" href="classFwdState.html">   86</a></span><span class="keyword">class </span><a class="code hl_class" href="classFwdState.html">FwdState</a>: <span class="keyword">public</span> <a class="code hl_define" href="Lock_8h.html#a2bfee330a58840f0c5352c348443cb28">RefCountable</a>, <span class="keyword">public</span> <a class="code hl_class" href="classPeerSelectionInitiator.html">PeerSelectionInitiator</a></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>{</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno"><a class="line" href="classFwdState.html#a6d0bd501194567da254e1791b99c45a1">   88</a></span>    <a class="code hl_function" href="classFwdState.html#a6d0bd501194567da254e1791b99c45a1">CBDATA_CHILD</a>(<a class="code hl_class" href="classFwdState.html">FwdState</a>);</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span> </div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno"><a class="line" href="classFwdState.html#a8c818ce4c6fcd80c42ad016332fa25c3">   91</a></span>    <span class="keyword">typedef</span> <a class="code hl_class" href="classRefCount.html">RefCount&lt;FwdState&gt;</a> <a class="code hl_typedef" href="classFwdState.html#a8c818ce4c6fcd80c42ad016332fa25c3">Pointer</a>;</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    <a class="code hl_function" href="classFwdState.html#a996acb64b4b3ab89868422841f02d2ef">~FwdState</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#aa98c90233df6dbfd239847b16a59f4de">initModule</a>();</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span> </div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a391d66921577e62e543723f978062e97">Start</a>(<span class="keyword">const</span> <a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> &amp;client, <a class="code hl_class" href="classStoreEntry.html">StoreEntry</a> *, <a class="code hl_class" href="classHttpRequest.html">HttpRequest</a> *, <span class="keyword">const</span> <a class="code hl_class" href="classRefCount.html">AccessLogEntryPointer</a> &amp;alp);</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#aee3d157b8666452a80f9f976a5558df1">fwdStart</a>(<span class="keyword">const</span> <a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> &amp;client, <a class="code hl_class" href="classStoreEntry.html">StoreEntry</a> *, <a class="code hl_class" href="classHttpRequest.html">HttpRequest</a> *);</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <span class="keyword">static</span> time_t <a class="code hl_function" href="classFwdState.html#a6808dc83aa8167a695802ca5996f4767">ForwardTimeout</a>(<span class="keyword">const</span> time_t <a class="code hl_function" href="classFwdState.html#aee3d157b8666452a80f9f976a5558df1">fwdStart</a>);</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classFwdState.html#a567a6c56ca42c58736d616330dafd7b5">EnoughTimeToReForward</a>(<span class="keyword">const</span> time_t <a class="code hl_function" href="classFwdState.html#aee3d157b8666452a80f9f976a5558df1">fwdStart</a>);</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#ae21810bf43359ab8862d91914b5c3872">useDestinations</a>();</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span> </div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a67baaf10258c77366dcab5e54eea4da3">fail</a>(<a class="code hl_class" href="classErrorState.html">ErrorState</a> *<a class="code hl_variable" href="classFwdState.html#afbcd88b617fe0adf296920400a68fa41">err</a>);</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a5d345dbb9db02b7bbcb62dc9f9c2411a">unregister</a>(<a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> &amp;conn);</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a5d345dbb9db02b7bbcb62dc9f9c2411a">unregister</a>(<span class="keywordtype">int</span> fd);</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a37651d1474dfb7c77dfea1c5134fd77a">complete</a>();</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span> </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#adaca05a860b705c9391f1de6a7b28ecc">markStoredReplyAsWhole</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *whyWeAreSure);</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span> </div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a144cd9865bc9420ff6f174e7ef4c9aeb">handleUnregisteredServerEnd</a>();</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="classFwdState.html#aefb4585da3148562f1a689a5b03f12d7">reforward</a>();</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a19074e7f188f8d411aad7c15540077de">serverClosed</a>();</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#adb32dae8f6dc230819314ce4b895063d">connectStart</a>();</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno"><a class="line" href="classFwdState.html#a6155014dc0ab993f88ef9d14376678a7">  123</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a6155014dc0ab993f88ef9d14376678a7">connectDone</a>(<span class="keyword">const</span> <a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> &amp; conn, <a class="code hl_enumeration" href="namespaceComm.html#a9d8d4f4a5745b975c5785998e4246050">Comm::Flag</a> status, <span class="keywordtype">int</span> xerrno);</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classFwdState.html#a0e7442c47d0944488064ed051047627b">checkRetry</a>();</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classFwdState.html#ab5fd1a435317c8a962787499c20cffeb">checkRetriable</a>();</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a8d1bc18981cea8c1137d8c746f2d510e">dispatch</a>();</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span> </div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno"><a class="line" href="classFwdState.html#a3183b54103e6432d17c19582f7e80b9f">  128</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a3183b54103e6432d17c19582f7e80b9f">pconnPush</a>(<a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> &amp; conn, <span class="keyword">const</span> <span class="keywordtype">char</span> *domain);</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span> </div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno"><a class="line" href="classFwdState.html#a6d0abda76d34f0f1d58f4de5dbef3b88">  130</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classFwdState.html#a6d0abda76d34f0f1d58f4de5dbef3b88">dontRetry</a>() { <span class="keywordflow">return</span> <a class="code hl_variable" href="classFwdState.html#a9e0814bbc6a55d9980fb0146be1a7c1e">flags</a>.dont_retry; }</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span> </div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno"><a class="line" href="classFwdState.html#a77ed1b99885c551c669dfafb68ff0740">  132</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a77ed1b99885c551c669dfafb68ff0740">dontRetry</a>(<span class="keywordtype">bool</span> val) { <a class="code hl_variable" href="classFwdState.html#a9e0814bbc6a55d9980fb0146be1a7c1e">flags</a>.dont_retry = val; }</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a5795751b21ca608943fc4fb2d4025483">closePendingConnection</a>(<span class="keyword">const</span> <a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> &amp;conn, <span class="keyword">const</span> <span class="keywordtype">char</span> *reason);</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span> </div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno"><a class="line" href="classFwdState.html#a660c0256214a8806cbb6af550cc79bca">  138</a></span>    <a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> <span class="keyword">const</span> &amp; <a class="code hl_function" href="classFwdState.html#a660c0256214a8806cbb6af550cc79bca">serverConnection</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classFwdState.html#a6730a031a5a4f9c2a1f2e815d2d46a17">serverConn</a>; };</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span> </div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    <span class="comment">// hidden for safer management of self; use static fwdStart</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <a class="code hl_class" href="classFwdState.html">FwdState</a>(<span class="keyword">const</span> <a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> &amp;client, <a class="code hl_class" href="classStoreEntry.html">StoreEntry</a> *, <a class="code hl_class" href="classHttpRequest.html">HttpRequest</a> *, <span class="keyword">const</span> <a class="code hl_class" href="classRefCount.html">AccessLogEntryPointer</a> &amp;alp);</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a62614b7d18e339d54e701a232efd5526">start</a>(<a class="code hl_typedef" href="classFwdState.html#a8c818ce4c6fcd80c42ad016332fa25c3">Pointer</a> aSelf);</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a9ffef785cf8f57dffbf1cdafd861e20d">stopAndDestroy</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *reason);</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span> </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="comment">/* PeerSelectionInitiator API */</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a3c7854bb035fd1b67c57e44710bbfe45">noteDestination</a>(<a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> conn) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a1471174d7e3c9a0bc1acbb5f8931930f">noteDestinationsEnd</a>(<a class="code hl_class" href="classErrorState.html">ErrorState</a> *selectionError) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span> </div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classFwdState.html#a31b13c7660d71fa229da937c0bb5c005">transporting</a>() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span> </div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#ace0f0fb74e8cfbc98cac5e07f186ca0b">noteConnection</a>(<a class="code hl_class" href="classHappyConnOpenerAnswer.html">HappyConnOpenerAnswer</a> &amp;);</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span> </div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span><span class="preprocessor">#if STRICT_ORIGINAL_DST</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    <span class="keywordtype">void</span> selectPeerForIntercepted();</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a886a366b59398fcb36fe0cca1d249f33">logReplyStatus</a>(<span class="keywordtype">int</span> tries, <span class="keyword">const</span> <a class="code hl_enumeration" href="namespaceHttp.html#a432f881deb187c726161d6435daec722">Http::StatusCode</a> status);</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a290ab33c5e0de0d18b9b541062c58f4d">doneWithRetries</a>();</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a2bc3fb073aee437617e93fbef3c5154f">completed</a>();</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#ac7e9d742721daa3e491cf549ad100fb9">retryOrBail</a>();</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span> </div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a7a54813e455a655612f921b1deea9c35">usePinned</a>();</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> </div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classFwdState.html#af82d1e3d2fbce848d97acb1f84b66d19">pinnedCanRetry</a>() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span> </div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> StepStart&gt;</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#afaff701d57c00b631c62ea8f773e8291">advanceDestination</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *stepDescription, <span class="keyword">const</span> <a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> &amp;conn, <span class="keyword">const</span> StepStart &amp;startStep);</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span> </div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno"><a class="line" href="classFwdState.html#af672c28d713c5ceb7534b7e542657067">  171</a></span>    <a class="code hl_class" href="classErrorState.html">ErrorState</a> *<a class="code hl_function" href="classFwdState.html#af672c28d713c5ceb7534b7e542657067">makeConnectingError</a>(<span class="keyword">const</span> <a class="code hl_enumeration" href="error_2forward_8h.html#a0c0ad09d74260ddc16d72bc291116e1a">err_type</a> type) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a178c2dfa7a6549490c809060f01db028">connectedToPeer</a>(<a class="code hl_class" href="classSecurity_1_1EncryptorAnswer.html">Security::EncryptorAnswer</a> &amp;answer);</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a88edd7e493b26a815d393b19fb0522d8">RegisterWithCacheManager</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a9f2c3e1cb9c8db96d5133a018ac2bfc7">establishTunnelThruProxy</a>(<span class="keyword">const</span> <a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> &amp;);</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a7cf86800fbf2df7c68a2ba5eafeefa4b">tunnelEstablishmentDone</a>(<a class="code hl_class" href="classHttp_1_1TunnelerAnswer.html">Http::TunnelerAnswer</a> &amp;answer);</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a0817357f80f6b219c73c365473050bf4">secureConnectionToPeerIfNeeded</a>(<span class="keyword">const</span> <a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> &amp;);</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#ae68cf398e48e712995401e86a26442fb">secureConnectionToPeer</a>(<span class="keyword">const</span> <a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> &amp;);</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a1ad1a5a1e478a989e87693cdbab965c4">successfullyConnectedToPeer</a>(<span class="keyword">const</span> <a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> &amp;);</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span> </div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a6aa0fbb6df3de2d3de5f69ae639a7e09">closeServerConnection</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *reason);</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#ac17d5765b29de0e83b90eb785aa8545f">syncWithServerConn</a>(<span class="keyword">const</span> <a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> &amp;<a class="code hl_variable" href="basic__radius__auth_8cc.html#aa8195632e4f244f5dbb6f0728cce9682">server</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *host, <span class="keyword">const</span> <span class="keywordtype">bool</span> reused);</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#aeeddd9c0e29dcacc4348b620ac31454d">syncHierNote</a>(<span class="keyword">const</span> <a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> &amp;<a class="code hl_variable" href="basic__radius__auth_8cc.html#aa8195632e4f244f5dbb6f0728cce9682">server</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *host);</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span> </div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classFwdState.html#a8c0fca3391fd91e6954c6981909e0e5d">exhaustedTries</a>() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a78160d420998f3a8da637cf9f58968ea">updateAttempts</a>(<span class="keywordtype">int</span>);</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span> </div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    time_t <a class="code hl_function" href="classFwdState.html#a49be3b51100f60642f4aae7bb98c8912">connectingTimeout</a>(<span class="keyword">const</span> <a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> &amp;conn) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span> </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a8ca1f7203964826915d911f3f3c32c00">cancelStep</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *reason);</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#ad7baeef92bc0c8bc529231234a8451b0">notifyConnOpener</a>();</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a120185287d479c6821d3a96040d62a8e">reactToZeroSizeObject</a>();</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span> </div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a8b8d08c5f92cfc4ff19d8cf3a18e2a22">updateAleWithFinalError</a>();</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span> </div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno"><a class="line" href="classFwdState.html#a914774b0048e808b14f886395e6a4524">  202</a></span>    <a class="code hl_class" href="classStoreEntry.html">StoreEntry</a> *<a class="code hl_variable" href="classFwdState.html#a914774b0048e808b14f886395e6a4524">entry</a>;</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno"><a class="line" href="classFwdState.html#a18c28fe611231c889eb7b01db30ac6d7">  203</a></span>    <a class="code hl_class" href="classHttpRequest.html">HttpRequest</a> *<a class="code hl_variable" href="classFwdState.html#a18c28fe611231c889eb7b01db30ac6d7">request</a>;</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno"><a class="line" href="classFwdState.html#af4ff3d2c0f204985c5fbbdd9da8c60a5">  204</a></span>    <a class="code hl_class" href="classRefCount.html">AccessLogEntryPointer</a> <a class="code hl_variable" href="classFwdState.html#af4ff3d2c0f204985c5fbbdd9da8c60a5">al</a>; </div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span> </div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classFwdState.html#a48ceb0c6946b5fea1cc4f12b713f6f81">HandleStoreAbort</a>(<a class="code hl_class" href="classFwdState.html">FwdState</a> *);</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span> </div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno"><a class="line" href="classFwdState.html#addb4912851a3a0159e24b850de1a8bf7">  210</a></span>    <a class="code hl_class" href="classRefCount.html">Pointer</a> <a class="code hl_variable" href="classFwdState.html#addb4912851a3a0159e24b850de1a8bf7">self</a>;</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno"><a class="line" href="classFwdState.html#afbcd88b617fe0adf296920400a68fa41">  211</a></span>    <a class="code hl_class" href="classErrorState.html">ErrorState</a> *<a class="code hl_variable" href="classFwdState.html#afbcd88b617fe0adf296920400a68fa41">err</a>;</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno"><a class="line" href="classFwdState.html#a0e4fb18f88e918b3e3bc6a6184c90fa4">  212</a></span>    <a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> <a class="code hl_variable" href="classFwdState.html#a0e4fb18f88e918b3e3bc6a6184c90fa4">clientConn</a>;        </div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno"><a class="line" href="classFwdState.html#ab2f8e3e89f1772aa80f1c19fddf86dd0">  213</a></span>    time_t <a class="code hl_variable" href="classFwdState.html#ab2f8e3e89f1772aa80f1c19fddf86dd0">start_t</a>;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno"><a class="line" href="classFwdState.html#a82e8abf06fa3a441dc8c6e838b2ba190">  214</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classFwdState.html#a82e8abf06fa3a441dc8c6e838b2ba190">n_tries</a>; </div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span> </div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    <span class="keyword">struct </span>{</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno"><a class="line" href="classFwdState.html#a4ad8fe1b620d769a91023c2fb27c0a3c">  217</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="classFwdState.html#a4ad8fe1b620d769a91023c2fb27c0a3c">connected_okay</a>; </div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno"><a class="line" href="classFwdState.html#a66b1219f2090393fcb823b8bf6b74f6e">  218</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="classFwdState.html#a66b1219f2090393fcb823b8bf6b74f6e">dont_retry</a>;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno"><a class="line" href="classFwdState.html#a06da9803cfb98b15639eaf633960b04a">  219</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="classFwdState.html#a06da9803cfb98b15639eaf633960b04a">forward_completed</a>;</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno"><a class="line" href="classFwdState.html#a3345dd4c8e4c23993a2e3e22ef8129fa">  220</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="classFwdState.html#a3345dd4c8e4c23993a2e3e22ef8129fa">destinationsFound</a>; </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno"><a class="line" href="classFwdState.html#a9e0814bbc6a55d9980fb0146be1a7c1e">  221</a></span>    } <a class="code hl_variable" href="classFwdState.html#a9e0814bbc6a55d9980fb0146be1a7c1e">flags</a>;</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span> </div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno"><a class="line" href="classFwdState.html#a253664b70d0ccc5229c1d278c180c76e">  224</a></span>    <a class="code hl_class" href="classJobWait.html">JobWait&lt;HappyConnOpener&gt;</a> <a class="code hl_variable" href="classFwdState.html#a253664b70d0ccc5229c1d278c180c76e">transportWait</a>;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span> </div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno"><a class="line" href="classFwdState.html#a701950b7cd621f83c9c5c97011094f47">  227</a></span>    <a class="code hl_class" href="classJobWait.html">JobWait&lt;Security::PeerConnector&gt;</a> <a class="code hl_variable" href="classFwdState.html#a701950b7cd621f83c9c5c97011094f47">encryptionWait</a>;</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span> </div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno"><a class="line" href="classFwdState.html#a2b97dff94013001970fb358c6ea5f85e">  231</a></span>    <a class="code hl_class" href="classJobWait.html">JobWait&lt;Http::Tunneler&gt;</a> <a class="code hl_variable" href="classFwdState.html#a2b97dff94013001970fb358c6ea5f85e">peerWait</a>;</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span> </div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno"><a class="line" href="classFwdState.html#ac72e285014768b78832e448c5771d6d3">  234</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="classFwdState.html#ac72e285014768b78832e448c5771d6d3">waitingForDispatched</a>;</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span> </div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno"><a class="line" href="classFwdState.html#ad23f0bb47fe71666c974afd101763028">  236</a></span>    <a class="code hl_class" href="classRefCount.html">ResolvedPeersPointer</a> <a class="code hl_variable" href="classFwdState.html#ad23f0bb47fe71666c974afd101763028">destinations</a>; </div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno"><a class="line" href="classFwdState.html#a6730a031a5a4f9c2a1f2e815d2d46a17">  237</a></span>    <a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> <a class="code hl_variable" href="classFwdState.html#a6730a031a5a4f9c2a1f2e815d2d46a17">serverConn</a>; </div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno"><a class="line" href="classFwdState.html#ae17e6ff714f4d442075033984c1d8cc5">  238</a></span>    <a class="code hl_class" href="classPeerConnectionPointer.html">PeerConnectionPointer</a> <a class="code hl_variable" href="classFwdState.html#ae17e6ff714f4d442075033984c1d8cc5">destinationReceipt</a>; </div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span> </div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno"><a class="line" href="classFwdState.html#a8675cf4c7f1f2e173e0bb888fce30837">  240</a></span>    <a class="code hl_class" href="classRefCount.html">AsyncCall::Pointer</a> <a class="code hl_variable" href="classFwdState.html#a8675cf4c7f1f2e173e0bb888fce30837">closeHandler</a>; </div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span> </div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno"><a class="line" href="classFwdState.html#a321bbe799c340b7e1e74c475af887e7a">  243</a></span>    <span class="keyword">typedef</span> <span class="keyword">enum</span> { <a class="code hl_enumvalue" href="classFwdState.html#a321bbe799c340b7e1e74c475af887e7aafcb62de590dd66c0599326381485b042">raceImpossible</a>, <a class="code hl_enumvalue" href="classFwdState.html#a321bbe799c340b7e1e74c475af887e7aa192d0e8a202550c8f878421ca3abe6d9">racePossible</a>, <a class="code hl_enumvalue" href="classFwdState.html#a321bbe799c340b7e1e74c475af887e7aae761b1331e5c96f8b36cc6d33eec4ab8">raceHappened</a> } <a class="code hl_enumeration" href="classFwdState.html#a321bbe799c340b7e1e74c475af887e7a">PconnRace</a>;</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno"><a class="line" href="classFwdState.html#a1b990d5c5b6dde7e851cf68a4a4e24f5">  244</a></span>    <a class="code hl_enumeration" href="classFwdState.html#a321bbe799c340b7e1e74c475af887e7a">PconnRace</a> <a class="code hl_variable" href="classFwdState.html#a1b990d5c5b6dde7e851cf68a4a4e24f5">pconnRace</a>; </div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span> </div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno"><a class="line" href="classFwdState.html#a1c4c2ebb924f28d0577df80cd3ba3c8f">  248</a></span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="classFwdState.html#a1c4c2ebb924f28d0577df80cd3ba3c8f">storedWholeReply_</a>;</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span> </div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno"><a class="line" href="classFwdState.html#a5a71095584c0cd0abc5357117f1e528f">  251</a></span>    <a class="code hl_class" href="classPeeringActivityTimer.html">PeeringActivityTimer</a> <a class="code hl_variable" href="classFwdState.html#a5a71095584c0cd0abc5357117f1e528f">peeringTimer</a>;</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>};</div>
</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span> </div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span><span class="keyword">class </span><a class="code hl_class" href="classacl__tos.html">acl_tos</a>;</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span><a class="code hl_typedef" href="ip_2forward_8h.html#a6bd5fd9a27e152eb6dd4faa68729f310">tos_t</a> <a class="code hl_function" href="FwdState_8h.html#a21799a5a2003a2e15d98ec93a7061f64">aclMapTOS</a>(<a class="code hl_class" href="classacl__tos.html">acl_tos</a> *, <a class="code hl_class" href="classACLChecklist.html">ACLChecklist</a> *);</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span> </div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span><a class="code hl_class" href="classIp_1_1NfMarkConfig.html">Ip::NfMarkConfig</a> <a class="code hl_function" href="FwdState_8h.html#ae20cdb9bc9513df7cb0f7fd863a28f8d">aclFindNfMarkConfig</a>(<a class="code hl_class" href="classacl__nfmark.html">acl_nfmark</a> *, <a class="code hl_class" href="classACLChecklist.html">ACLChecklist</a> *);</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span><span class="keywordtype">void</span> <a class="code hl_function" href="FwdState_8h.html#a372ef7b3c67cba9e3c8259a2af6d8844">getOutgoingAddress</a>(<a class="code hl_class" href="classHttpRequest.html">HttpRequest</a> *, <span class="keyword">const</span> <a class="code hl_class" href="classRefCount.html">Comm::ConnectionPointer</a> &amp;);</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span> </div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span><span class="keyword">extern</span> <a class="code hl_class" href="classPconnPool.html">PconnPool</a> *<a class="code hl_variable" href="FwdState_8h.html#a01466b9e763e36653f9977156083f42b">fwdPconnPool</a>;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span> </div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span><span class="preprocessor">#endif </span><span class="comment">/* SQUID_SRC_FWDSTATE_H */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span> </div>
<div class="ttc" id="aConnection_8h_html"><div class="ttname"><a href="Connection_8h.html">Connection.h</a></div></div>
<div class="ttc" id="aFwdState_8h_html_a01466b9e763e36653f9977156083f42b"><div class="ttname"><a href="FwdState_8h.html#a01466b9e763e36653f9977156083f42b">fwdPconnPool</a></div><div class="ttdeci">PconnPool * fwdPconnPool</div><div class="ttdoc">a collection of previously used persistent Squid-to-peer HTTP(S) connections</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00078">FwdState.cc:78</a></div></div>
<div class="ttc" id="aFwdState_8h_html_a21799a5a2003a2e15d98ec93a7061f64"><div class="ttname"><a href="FwdState_8h.html#a21799a5a2003a2e15d98ec93a7061f64">aclMapTOS</a></div><div class="ttdeci">tos_t aclMapTOS(acl_tos *, ACLChecklist *)</div><div class="ttdoc">Checks for a TOS value to apply depending on the ACL.</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01458">FwdState.cc:1458</a></div></div>
<div class="ttc" id="aFwdState_8h_html_a372ef7b3c67cba9e3c8259a2af6d8844"><div class="ttname"><a href="FwdState_8h.html#a372ef7b3c67cba9e3c8259a2af6d8844">getOutgoingAddress</a></div><div class="ttdeci">void getOutgoingAddress(HttpRequest *, const Comm::ConnectionPointer &amp;)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01481">FwdState.cc:1481</a></div></div>
<div class="ttc" id="aFwdState_8h_html_a51692ff70e19aa5c282e9b7db21465bf"><div class="ttname"><a href="FwdState_8h.html#a51692ff70e19aa5c282e9b7db21465bf">ResolvedPeersPointer</a></div><div class="ttdeci">RefCount&lt; ResolvedPeers &gt; ResolvedPeersPointer</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00037">FwdState.h:37</a></div></div>
<div class="ttc" id="aFwdState_8h_html_a97f0fe83bfec5b098a49215863edbfff"><div class="ttname"><a href="FwdState_8h.html#a97f0fe83bfec5b098a49215863edbfff">GetMarkingsToServer</a></div><div class="ttdeci">void GetMarkingsToServer(HttpRequest *request, Comm::Connection &amp;conn)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01560">FwdState.cc:1560</a></div></div>
<div class="ttc" id="aFwdState_8h_html_ac74f3c646623a07a288f53ff45ac48a8"><div class="ttname"><a href="FwdState_8h.html#ac74f3c646623a07a288f53ff45ac48a8">AccessLogEntryPointer</a></div><div class="ttdeci">RefCount&lt; AccessLogEntry &gt; AccessLogEntryPointer</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00033">FwdState.h:33</a></div></div>
<div class="ttc" id="aFwdState_8h_html_ad939c867d3afce11f2a6bb41243eb34e"><div class="ttname"><a href="FwdState_8h.html#ad939c867d3afce11f2a6bb41243eb34e">ResetMarkingsToServer</a></div><div class="ttdeci">void ResetMarkingsToServer(HttpRequest *, Comm::Connection &amp;)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01569">FwdState.cc:1569</a></div></div>
<div class="ttc" id="aFwdState_8h_html_ae20cdb9bc9513df7cb0f7fd863a28f8d"><div class="ttname"><a href="FwdState_8h.html#ae20cdb9bc9513df7cb0f7fd863a28f8d">aclFindNfMarkConfig</a></div><div class="ttdeci">Ip::NfMarkConfig aclFindNfMarkConfig(acl_nfmark *, ACLChecklist *)</div><div class="ttdoc">Checks for a netfilter mark value to apply depending on the ACL.</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01470">FwdState.cc:1470</a></div></div>
<div class="ttc" id="aJobWait_8h_html"><div class="ttname"><a href="JobWait_8h.html">JobWait.h</a></div></div>
<div class="ttc" id="aLock_8h_html_a2bfee330a58840f0c5352c348443cb28"><div class="ttname"><a href="Lock_8h.html#a2bfee330a58840f0c5352c348443cb28">RefCountable</a></div><div class="ttdeci">#define RefCountable</div><div class="ttdoc">The locking interface for use on Reference-Counted classes.</div><div class="ttdef"><b>Definition</b> <a href="Lock_8h_source.html#l00066">Lock.h:66</a></div></div>
<div class="ttc" id="aPeerSelectState_8h_html"><div class="ttname"><a href="PeerSelectState_8h.html">PeerSelectState.h</a></div></div>
<div class="ttc" id="aRefCount_8h_html"><div class="ttname"><a href="RefCount_8h.html">RefCount.h</a></div></div>
<div class="ttc" id="aResolvedPeers_8h_html"><div class="ttname"><a href="ResolvedPeers_8h.html">ResolvedPeers.h</a></div></div>
<div class="ttc" id="aStatusCode_8h_html"><div class="ttname"><a href="StatusCode_8h.html">StatusCode.h</a></div></div>
<div class="ttc" id="abase_2forward_8h_html"><div class="ttname"><a href="base_2forward_8h.html">forward.h</a></div></div>
<div class="ttc" id="abasic__radius__auth_8cc_html_aa8195632e4f244f5dbb6f0728cce9682"><div class="ttname"><a href="basic__radius__auth_8cc.html#aa8195632e4f244f5dbb6f0728cce9682">server</a></div><div class="ttdeci">static char server[MAXLINE]</div><div class="ttdef"><b>Definition</b> <a href="basic__radius__auth_8cc_source.html#l00102">basic_radius_auth.cc:102</a></div></div>
<div class="ttc" id="aclassACLChecklist_html"><div class="ttname"><a href="classACLChecklist.html">ACLChecklist</a></div><div class="ttdef"><b>Definition</b> <a href="Checklist_8h_source.html#l00030">Checklist.h:31</a></div></div>
<div class="ttc" id="aclassAccessLogEntry_html"><div class="ttname"><a href="classAccessLogEntry.html">AccessLogEntry</a></div><div class="ttdef"><b>Definition</b> <a href="AccessLogEntry_8h_source.html#l00040">AccessLogEntry.h:41</a></div></div>
<div class="ttc" id="aclassComm_1_1Connection_html"><div class="ttname"><a href="classComm_1_1Connection.html">Comm::Connection</a></div><div class="ttdef"><b>Definition</b> <a href="Connection_8h_source.html#l00072">Connection.h:73</a></div></div>
<div class="ttc" id="aclassErrorState_html"><div class="ttname"><a href="classErrorState.html">ErrorState</a></div><div class="ttdef"><b>Definition</b> <a href="errorpage_8h_source.html#l00088">errorpage.h:89</a></div></div>
<div class="ttc" id="aclassFwdState_html"><div class="ttname"><a href="classFwdState.html">FwdState</a></div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00086">FwdState.h:87</a></div></div>
<div class="ttc" id="aclassFwdState_html_a06da9803cfb98b15639eaf633960b04a"><div class="ttname"><a href="classFwdState.html#a06da9803cfb98b15639eaf633960b04a">FwdState::forward_completed</a></div><div class="ttdeci">bool forward_completed</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00219">FwdState.h:219</a></div></div>
<div class="ttc" id="aclassFwdState_html_a0817357f80f6b219c73c365473050bf4"><div class="ttname"><a href="classFwdState.html#a0817357f80f6b219c73c365473050bf4">FwdState::secureConnectionToPeerIfNeeded</a></div><div class="ttdeci">void secureConnectionToPeerIfNeeded(const Comm::ConnectionPointer &amp;)</div><div class="ttdoc">handles an established TCP connection to peer (including origin servers)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00967">FwdState.cc:967</a></div></div>
<div class="ttc" id="aclassFwdState_html_a0e4fb18f88e918b3e3bc6a6184c90fa4"><div class="ttname"><a href="classFwdState.html#a0e4fb18f88e918b3e3bc6a6184c90fa4">FwdState::clientConn</a></div><div class="ttdeci">Comm::ConnectionPointer clientConn</div><div class="ttdoc">a possibly open connection to the client.</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00212">FwdState.h:212</a></div></div>
<div class="ttc" id="aclassFwdState_html_a0e7442c47d0944488064ed051047627b"><div class="ttname"><a href="classFwdState.html#a0e7442c47d0944488064ed051047627b">FwdState::checkRetry</a></div><div class="ttdeci">bool checkRetry()</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00691">FwdState.cc:691</a></div></div>
<div class="ttc" id="aclassFwdState_html_a120185287d479c6821d3a96040d62a8e"><div class="ttname"><a href="classFwdState.html#a120185287d479c6821d3a96040d62a8e">FwdState::reactToZeroSizeObject</a></div><div class="ttdeci">void reactToZeroSizeObject()</div><div class="ttdoc">ERR_ZERO_SIZE_OBJECT requires special adjustments.</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00476">FwdState.cc:476</a></div></div>
<div class="ttc" id="aclassFwdState_html_a144cd9865bc9420ff6f174e7ef4c9aeb"><div class="ttname"><a href="classFwdState.html#a144cd9865bc9420ff6f174e7ef4c9aeb">FwdState::handleUnregisteredServerEnd</a></div><div class="ttdeci">void handleUnregisteredServerEnd()</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00804">FwdState.cc:804</a></div></div>
<div class="ttc" id="aclassFwdState_html_a1471174d7e3c9a0bc1acbb5f8931930f"><div class="ttname"><a href="classFwdState.html#a1471174d7e3c9a0bc1acbb5f8931930f">FwdState::noteDestinationsEnd</a></div><div class="ttdeci">void noteDestinationsEnd(ErrorState *selectionError) override</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00616">FwdState.cc:616</a></div></div>
<div class="ttc" id="aclassFwdState_html_a178c2dfa7a6549490c809060f01db028"><div class="ttname"><a href="classFwdState.html#a178c2dfa7a6549490c809060f01db028">FwdState::connectedToPeer</a></div><div class="ttdeci">void connectedToPeer(Security::EncryptorAnswer &amp;answer)</div><div class="ttdoc">called when all negotiations with the TLS-speaking peer have been completed</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01014">FwdState.cc:1014</a></div></div>
<div class="ttc" id="aclassFwdState_html_a18c28fe611231c889eb7b01db30ac6d7"><div class="ttname"><a href="classFwdState.html#a18c28fe611231c889eb7b01db30ac6d7">FwdState::request</a></div><div class="ttdeci">HttpRequest * request</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00203">FwdState.h:203</a></div></div>
<div class="ttc" id="aclassFwdState_html_a19074e7f188f8d411aad7c15540077de"><div class="ttname"><a href="classFwdState.html#a19074e7f188f8d411aad7c15540077de">FwdState::serverClosed</a></div><div class="ttdeci">void serverClosed()</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00748">FwdState.cc:748</a></div></div>
<div class="ttc" id="aclassFwdState_html_a1ad1a5a1e478a989e87693cdbab965c4"><div class="ttname"><a href="classFwdState.html#a1ad1a5a1e478a989e87693cdbab965c4">FwdState::successfullyConnectedToPeer</a></div><div class="ttdeci">void successfullyConnectedToPeer(const Comm::ConnectionPointer &amp;)</div><div class="ttdoc">called when all negotiations with the peer have been completed</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01050">FwdState.cc:1050</a></div></div>
<div class="ttc" id="aclassFwdState_html_a1b990d5c5b6dde7e851cf68a4a4e24f5"><div class="ttname"><a href="classFwdState.html#a1b990d5c5b6dde7e851cf68a4a4e24f5">FwdState::pconnRace</a></div><div class="ttdeci">PconnRace pconnRace</div><div class="ttdoc">current pconn race state</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00244">FwdState.h:244</a></div></div>
<div class="ttc" id="aclassFwdState_html_a1c4c2ebb924f28d0577df80cd3ba3c8f"><div class="ttname"><a href="classFwdState.html#a1c4c2ebb924f28d0577df80cd3ba3c8f">FwdState::storedWholeReply_</a></div><div class="ttdeci">const char * storedWholeReply_</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00248">FwdState.h:248</a></div></div>
<div class="ttc" id="aclassFwdState_html_a253664b70d0ccc5229c1d278c180c76e"><div class="ttname"><a href="classFwdState.html#a253664b70d0ccc5229c1d278c180c76e">FwdState::transportWait</a></div><div class="ttdeci">JobWait&lt; HappyConnOpener &gt; transportWait</div><div class="ttdoc">waits for a transport connection to the peer to be established/opened</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00224">FwdState.h:224</a></div></div>
<div class="ttc" id="aclassFwdState_html_a290ab33c5e0de0d18b9b541062c58f4d"><div class="ttname"><a href="classFwdState.html#a290ab33c5e0de0d18b9b541062c58f4d">FwdState::doneWithRetries</a></div><div class="ttdeci">void doneWithRetries()</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00796">FwdState.cc:796</a></div></div>
<div class="ttc" id="aclassFwdState_html_a2b97dff94013001970fb358c6ea5f85e"><div class="ttname"><a href="classFwdState.html#a2b97dff94013001970fb358c6ea5f85e">FwdState::peerWait</a></div><div class="ttdeci">JobWait&lt; Http::Tunneler &gt; peerWait</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00231">FwdState.h:231</a></div></div>
<div class="ttc" id="aclassFwdState_html_a2bc3fb073aee437617e93fbef3c5154f"><div class="ttname"><a href="classFwdState.html#a2bc3fb073aee437617e93fbef3c5154f">FwdState::completed</a></div><div class="ttdeci">void completed()</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00256">FwdState.cc:256</a></div></div>
<div class="ttc" id="aclassFwdState_html_a3183b54103e6432d17c19582f7e80b9f"><div class="ttname"><a href="classFwdState.html#a3183b54103e6432d17c19582f7e80b9f">FwdState::pconnPush</a></div><div class="ttdeci">void pconnPush(Comm::ConnectionPointer &amp;conn, const char *domain)</div></div>
<div class="ttc" id="aclassFwdState_html_a31b13c7660d71fa229da937c0bb5c005"><div class="ttname"><a href="classFwdState.html#a31b13c7660d71fa229da937c0bb5c005">FwdState::transporting</a></div><div class="ttdeci">bool transporting() const</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00569">FwdState.cc:569</a></div></div>
<div class="ttc" id="aclassFwdState_html_a321bbe799c340b7e1e74c475af887e7a"><div class="ttname"><a href="classFwdState.html#a321bbe799c340b7e1e74c475af887e7a">FwdState::PconnRace</a></div><div class="ttdeci">PconnRace</div><div class="ttdoc">possible pconn race states</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00243">FwdState.h:243</a></div></div>
<div class="ttc" id="aclassFwdState_html_a321bbe799c340b7e1e74c475af887e7aa192d0e8a202550c8f878421ca3abe6d9"><div class="ttname"><a href="classFwdState.html#a321bbe799c340b7e1e74c475af887e7aa192d0e8a202550c8f878421ca3abe6d9">FwdState::racePossible</a></div><div class="ttdeci">@ racePossible</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00243">FwdState.h:243</a></div></div>
<div class="ttc" id="aclassFwdState_html_a321bbe799c340b7e1e74c475af887e7aae761b1331e5c96f8b36cc6d33eec4ab8"><div class="ttname"><a href="classFwdState.html#a321bbe799c340b7e1e74c475af887e7aae761b1331e5c96f8b36cc6d33eec4ab8">FwdState::raceHappened</a></div><div class="ttdeci">@ raceHappened</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00243">FwdState.h:243</a></div></div>
<div class="ttc" id="aclassFwdState_html_a321bbe799c340b7e1e74c475af887e7aafcb62de590dd66c0599326381485b042"><div class="ttname"><a href="classFwdState.html#a321bbe799c340b7e1e74c475af887e7aafcb62de590dd66c0599326381485b042">FwdState::raceImpossible</a></div><div class="ttdeci">@ raceImpossible</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00243">FwdState.h:243</a></div></div>
<div class="ttc" id="aclassFwdState_html_a3345dd4c8e4c23993a2e3e22ef8129fa"><div class="ttname"><a href="classFwdState.html#a3345dd4c8e4c23993a2e3e22ef8129fa">FwdState::destinationsFound</a></div><div class="ttdeci">bool destinationsFound</div><div class="ttdoc">at least one candidate path found</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00220">FwdState.h:220</a></div></div>
<div class="ttc" id="aclassFwdState_html_a37651d1474dfb7c77dfea1c5134fd77a"><div class="ttname"><a href="classFwdState.html#a37651d1474dfb7c77dfea1c5134fd77a">FwdState::complete</a></div><div class="ttdeci">void complete()</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00526">FwdState.cc:526</a></div></div>
<div class="ttc" id="aclassFwdState_html_a391d66921577e62e543723f978062e97"><div class="ttname"><a href="classFwdState.html#a391d66921577e62e543723f978062e97">FwdState::Start</a></div><div class="ttdeci">static void Start(const Comm::ConnectionPointer &amp;client, StoreEntry *, HttpRequest *, const AccessLogEntryPointer &amp;alp)</div><div class="ttdoc">Initiates request forwarding to a peer or origin server.</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00338">FwdState.cc:338</a></div></div>
<div class="ttc" id="aclassFwdState_html_a3c7854bb035fd1b67c57e44710bbfe45"><div class="ttname"><a href="classFwdState.html#a3c7854bb035fd1b67c57e44710bbfe45">FwdState::noteDestination</a></div><div class="ttdeci">void noteDestination(Comm::ConnectionPointer conn) override</div><div class="ttdoc">called when a new unique destination has been found</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00587">FwdState.cc:587</a></div></div>
<div class="ttc" id="aclassFwdState_html_a48ceb0c6946b5fea1cc4f12b713f6f81"><div class="ttname"><a href="classFwdState.html#a48ceb0c6946b5fea1cc4f12b713f6f81">FwdState::HandleStoreAbort</a></div><div class="ttdeci">static void HandleStoreAbort(FwdState *)</div><div class="ttdoc">called by Store if the entry is no longer usable</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00083">FwdState.cc:83</a></div></div>
<div class="ttc" id="aclassFwdState_html_a49be3b51100f60642f4aae7bb98c8912"><div class="ttname"><a href="classFwdState.html#a49be3b51100f60642f4aae7bb98c8912">FwdState::connectingTimeout</a></div><div class="ttdeci">time_t connectingTimeout(const Comm::ConnectionPointer &amp;conn) const</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01444">FwdState.cc:1444</a></div></div>
<div class="ttc" id="aclassFwdState_html_a4ad8fe1b620d769a91023c2fb27c0a3c"><div class="ttname"><a href="classFwdState.html#a4ad8fe1b620d769a91023c2fb27c0a3c">FwdState::connected_okay</a></div><div class="ttdeci">bool connected_okay</div><div class="ttdoc">TCP link ever opened properly. This affects retry of POST,PUT,CONNECT,etc.</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00217">FwdState.h:217</a></div></div>
<div class="ttc" id="aclassFwdState_html_a567a6c56ca42c58736d616330dafd7b5"><div class="ttname"><a href="classFwdState.html#a567a6c56ca42c58736d616330dafd7b5">FwdState::EnoughTimeToReForward</a></div><div class="ttdeci">static bool EnoughTimeToReForward(const time_t fwdStart)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00431">FwdState.cc:431</a></div></div>
<div class="ttc" id="aclassFwdState_html_a5795751b21ca608943fc4fb2d4025483"><div class="ttname"><a href="classFwdState.html#a5795751b21ca608943fc4fb2d4025483">FwdState::closePendingConnection</a></div><div class="ttdeci">void closePendingConnection(const Comm::ConnectionPointer &amp;conn, const char *reason)</div><div class="ttdoc">get rid of a to-server connection that failed to become serverConn</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00096">FwdState.cc:96</a></div></div>
<div class="ttc" id="aclassFwdState_html_a5a71095584c0cd0abc5357117f1e528f"><div class="ttname"><a href="classFwdState.html#a5a71095584c0cd0abc5357117f1e528f">FwdState::peeringTimer</a></div><div class="ttdeci">PeeringActivityTimer peeringTimer</div><div class="ttdoc">Measures time spent on selecting and communicating with peers.</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00251">FwdState.h:251</a></div></div>
<div class="ttc" id="aclassFwdState_html_a5d345dbb9db02b7bbcb62dc9f9c2411a"><div class="ttname"><a href="classFwdState.html#a5d345dbb9db02b7bbcb62dc9f9c2411a">FwdState::unregister</a></div><div class="ttdeci">void unregister(Comm::ConnectionPointer &amp;conn)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00499">FwdState.cc:499</a></div></div>
<div class="ttc" id="aclassFwdState_html_a6155014dc0ab993f88ef9d14376678a7"><div class="ttname"><a href="classFwdState.html#a6155014dc0ab993f88ef9d14376678a7">FwdState::connectDone</a></div><div class="ttdeci">void connectDone(const Comm::ConnectionPointer &amp;conn, Comm::Flag status, int xerrno)</div></div>
<div class="ttc" id="aclassFwdState_html_a62614b7d18e339d54e701a232efd5526"><div class="ttname"><a href="classFwdState.html#a62614b7d18e339d54e701a232efd5526">FwdState::start</a></div><div class="ttdeci">void start(Pointer aSelf)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00145">FwdState.cc:145</a></div></div>
<div class="ttc" id="aclassFwdState_html_a660c0256214a8806cbb6af550cc79bca"><div class="ttname"><a href="classFwdState.html#a660c0256214a8806cbb6af550cc79bca">FwdState::serverConnection</a></div><div class="ttdeci">Comm::ConnectionPointer const &amp; serverConnection() const</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00138">FwdState.h:138</a></div></div>
<div class="ttc" id="aclassFwdState_html_a66b1219f2090393fcb823b8bf6b74f6e"><div class="ttname"><a href="classFwdState.html#a66b1219f2090393fcb823b8bf6b74f6e">FwdState::dont_retry</a></div><div class="ttdeci">bool dont_retry</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00218">FwdState.h:218</a></div></div>
<div class="ttc" id="aclassFwdState_html_a6730a031a5a4f9c2a1f2e815d2d46a17"><div class="ttname"><a href="classFwdState.html#a6730a031a5a4f9c2a1f2e815d2d46a17">FwdState::serverConn</a></div><div class="ttdeci">Comm::ConnectionPointer serverConn</div><div class="ttdoc">a successfully opened connection to a server.</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00237">FwdState.h:237</a></div></div>
<div class="ttc" id="aclassFwdState_html_a67baaf10258c77366dcab5e54eea4da3"><div class="ttname"><a href="classFwdState.html#a67baaf10258c77366dcab5e54eea4da3">FwdState::fail</a></div><div class="ttdeci">void fail(ErrorState *err)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00458">FwdState.cc:458</a></div></div>
<div class="ttc" id="aclassFwdState_html_a6808dc83aa8167a695802ca5996f4767"><div class="ttname"><a href="classFwdState.html#a6808dc83aa8167a695802ca5996f4767">FwdState::ForwardTimeout</a></div><div class="ttdeci">static time_t ForwardTimeout(const time_t fwdStart)</div><div class="ttdoc">time left to finish the whole forwarding process (which started at fwdStart)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00423">FwdState.cc:423</a></div></div>
<div class="ttc" id="aclassFwdState_html_a6aa0fbb6df3de2d3de5f69ae639a7e09"><div class="ttname"><a href="classFwdState.html#a6aa0fbb6df3de2d3de5f69ae639a7e09">FwdState::closeServerConnection</a></div><div class="ttdeci">void closeServerConnection(const char *reason)</div><div class="ttdoc">stops monitoring server connection for closure and updates pconn stats</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00108">FwdState.cc:108</a></div></div>
<div class="ttc" id="aclassFwdState_html_a6d0abda76d34f0f1d58f4de5dbef3b88"><div class="ttname"><a href="classFwdState.html#a6d0abda76d34f0f1d58f4de5dbef3b88">FwdState::dontRetry</a></div><div class="ttdeci">bool dontRetry()</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00130">FwdState.h:130</a></div></div>
<div class="ttc" id="aclassFwdState_html_a6d0bd501194567da254e1791b99c45a1"><div class="ttname"><a href="classFwdState.html#a6d0bd501194567da254e1791b99c45a1">FwdState::CBDATA_CHILD</a></div><div class="ttdeci">CBDATA_CHILD(FwdState)</div></div>
<div class="ttc" id="aclassFwdState_html_a701950b7cd621f83c9c5c97011094f47"><div class="ttname"><a href="classFwdState.html#a701950b7cd621f83c9c5c97011094f47">FwdState::encryptionWait</a></div><div class="ttdeci">JobWait&lt; Security::PeerConnector &gt; encryptionWait</div><div class="ttdoc">waits for the established transport connection to be secured/encrypted</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00227">FwdState.h:227</a></div></div>
<div class="ttc" id="aclassFwdState_html_a77ed1b99885c551c669dfafb68ff0740"><div class="ttname"><a href="classFwdState.html#a77ed1b99885c551c669dfafb68ff0740">FwdState::dontRetry</a></div><div class="ttdeci">void dontRetry(bool val)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00132">FwdState.h:132</a></div></div>
<div class="ttc" id="aclassFwdState_html_a78160d420998f3a8da637cf9f58968ea"><div class="ttname"><a href="classFwdState.html#a78160d420998f3a8da637cf9f58968ea">FwdState::updateAttempts</a></div><div class="ttdeci">void updateAttempts(int)</div><div class="ttdoc">sets n_tries to the given value (while keeping ALE, if any, in sync)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01095">FwdState.cc:1095</a></div></div>
<div class="ttc" id="aclassFwdState_html_a7a54813e455a655612f921b1deea9c35"><div class="ttname"><a href="classFwdState.html#a7a54813e455a655612f921b1deea9c35">FwdState::usePinned</a></div><div class="ttdeci">void usePinned()</div><div class="ttdoc">send request on an existing connection dedicated to the requesting client</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01149">FwdState.cc:1149</a></div></div>
<div class="ttc" id="aclassFwdState_html_a7cf86800fbf2df7c68a2ba5eafeefa4b"><div class="ttname"><a href="classFwdState.html#a7cf86800fbf2df7c68a2ba5eafeefa4b">FwdState::tunnelEstablishmentDone</a></div><div class="ttdeci">void tunnelEstablishmentDone(Http::TunnelerAnswer &amp;answer)</div><div class="ttdoc">resumes operations after the (possibly failed) HTTP CONNECT exchange</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00929">FwdState.cc:929</a></div></div>
<div class="ttc" id="aclassFwdState_html_a82e8abf06fa3a441dc8c6e838b2ba190"><div class="ttname"><a href="classFwdState.html#a82e8abf06fa3a441dc8c6e838b2ba190">FwdState::n_tries</a></div><div class="ttdeci">int n_tries</div><div class="ttdoc">the number of forwarding attempts so far</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00214">FwdState.h:214</a></div></div>
<div class="ttc" id="aclassFwdState_html_a8675cf4c7f1f2e173e0bb888fce30837"><div class="ttname"><a href="classFwdState.html#a8675cf4c7f1f2e173e0bb888fce30837">FwdState::closeHandler</a></div><div class="ttdeci">AsyncCall::Pointer closeHandler</div><div class="ttdoc">The serverConn close handler.</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00240">FwdState.h:240</a></div></div>
<div class="ttc" id="aclassFwdState_html_a886a366b59398fcb36fe0cca1d249f33"><div class="ttname"><a href="classFwdState.html#a886a366b59398fcb36fe0cca1d249f33">FwdState::logReplyStatus</a></div><div class="ttdeci">static void logReplyStatus(int tries, const Http::StatusCode status)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01402">FwdState.cc:1402</a></div></div>
<div class="ttc" id="aclassFwdState_html_a88edd7e493b26a815d393b19fb0522d8"><div class="ttname"><a href="classFwdState.html#a88edd7e493b26a815d393b19fb0522d8">FwdState::RegisterWithCacheManager</a></div><div class="ttdeci">static void RegisterWithCacheManager(void)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01396">FwdState.cc:1396</a></div></div>
<div class="ttc" id="aclassFwdState_html_a8b8d08c5f92cfc4ff19d8cf3a18e2a22"><div class="ttname"><a href="classFwdState.html#a8b8d08c5f92cfc4ff19d8cf3a18e2a22">FwdState::updateAleWithFinalError</a></div><div class="ttdeci">void updateAleWithFinalError()</div><div class="ttdoc">updates ALE when we finalize the transaction error (if any)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00241">FwdState.cc:241</a></div></div>
<div class="ttc" id="aclassFwdState_html_a8c0fca3391fd91e6954c6981909e0e5d"><div class="ttname"><a href="classFwdState.html#a8c0fca3391fd91e6954c6981909e0e5d">FwdState::exhaustedTries</a></div><div class="ttdeci">bool exhaustedTries() const</div><div class="ttdoc">whether we have used up all permitted forwarding attempts</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01416">FwdState.cc:1416</a></div></div>
<div class="ttc" id="aclassFwdState_html_a8c818ce4c6fcd80c42ad016332fa25c3"><div class="ttname"><a href="classFwdState.html#a8c818ce4c6fcd80c42ad016332fa25c3">FwdState::Pointer</a></div><div class="ttdeci">RefCount&lt; FwdState &gt; Pointer</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00091">FwdState.h:91</a></div></div>
<div class="ttc" id="aclassFwdState_html_a8ca1f7203964826915d911f3f3c32c00"><div class="ttname"><a href="classFwdState.html#a8ca1f7203964826915d911f3f3c32c00">FwdState::cancelStep</a></div><div class="ttdeci">void cancelStep(const char *reason)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00201">FwdState.cc:201</a></div></div>
<div class="ttc" id="aclassFwdState_html_a8d1bc18981cea8c1137d8c746f2d510e"><div class="ttname"><a href="classFwdState.html#a8d1bc18981cea8c1137d8c746f2d510e">FwdState::dispatch</a></div><div class="ttdeci">void dispatch()</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01186">FwdState.cc:1186</a></div></div>
<div class="ttc" id="aclassFwdState_html_a914774b0048e808b14f886395e6a4524"><div class="ttname"><a href="classFwdState.html#a914774b0048e808b14f886395e6a4524">FwdState::entry</a></div><div class="ttdeci">StoreEntry * entry</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00202">FwdState.h:202</a></div></div>
<div class="ttc" id="aclassFwdState_html_a996acb64b4b3ab89868422841f02d2ef"><div class="ttname"><a href="classFwdState.html#a996acb64b4b3ab89868422841f02d2ef">FwdState::~FwdState</a></div><div class="ttdeci">~FwdState() override</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00305">FwdState.cc:305</a></div></div>
<div class="ttc" id="aclassFwdState_html_a9e0814bbc6a55d9980fb0146be1a7c1e"><div class="ttname"><a href="classFwdState.html#a9e0814bbc6a55d9980fb0146be1a7c1e">FwdState::flags</a></div><div class="ttdeci">struct FwdState::@52 flags</div></div>
<div class="ttc" id="aclassFwdState_html_a9f2c3e1cb9c8db96d5133a018ac2bfc7"><div class="ttname"><a href="classFwdState.html#a9f2c3e1cb9c8db96d5133a018ac2bfc7">FwdState::establishTunnelThruProxy</a></div><div class="ttdeci">void establishTunnelThruProxy(const Comm::ConnectionPointer &amp;)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00908">FwdState.cc:908</a></div></div>
<div class="ttc" id="aclassFwdState_html_a9ffef785cf8f57dffbf1cdafd861e20d"><div class="ttname"><a href="classFwdState.html#a9ffef785cf8f57dffbf1cdafd861e20d">FwdState::stopAndDestroy</a></div><div class="ttdeci">void stopAndDestroy(const char *reason)</div><div class="ttdoc">ends forwarding; relies on refcounting so the effect may not be immediate</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00184">FwdState.cc:184</a></div></div>
<div class="ttc" id="aclassFwdState_html_aa98c90233df6dbfd239847b16a59f4de"><div class="ttname"><a href="classFwdState.html#aa98c90233df6dbfd239847b16a59f4de">FwdState::initModule</a></div><div class="ttdeci">static void initModule()</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01390">FwdState.cc:1390</a></div></div>
<div class="ttc" id="aclassFwdState_html_ab2f8e3e89f1772aa80f1c19fddf86dd0"><div class="ttname"><a href="classFwdState.html#ab2f8e3e89f1772aa80f1c19fddf86dd0">FwdState::start_t</a></div><div class="ttdeci">time_t start_t</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00213">FwdState.h:213</a></div></div>
<div class="ttc" id="aclassFwdState_html_ab5fd1a435317c8a962787499c20cffeb"><div class="ttname"><a href="classFwdState.html#ab5fd1a435317c8a962787499c20cffeb">FwdState::checkRetriable</a></div><div class="ttdeci">bool checkRetriable()</div><div class="ttdoc">Whether we may try sending this request again after a failure.</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00735">FwdState.cc:735</a></div></div>
<div class="ttc" id="aclassFwdState_html_ac17d5765b29de0e83b90eb785aa8545f"><div class="ttname"><a href="classFwdState.html#ac17d5765b29de0e83b90eb785aa8545f">FwdState::syncWithServerConn</a></div><div class="ttdeci">void syncWithServerConn(const Comm::ConnectionPointer &amp;server, const char *host, const bool reused)</div><div class="ttdoc">commits to using the given open to-peer connection</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01065">FwdState.cc:1065</a></div></div>
<div class="ttc" id="aclassFwdState_html_ac72e285014768b78832e448c5771d6d3"><div class="ttname"><a href="classFwdState.html#ac72e285014768b78832e448c5771d6d3">FwdState::waitingForDispatched</a></div><div class="ttdeci">bool waitingForDispatched</div><div class="ttdoc">whether we are waiting for the last dispatch()ed activity to end</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00234">FwdState.h:234</a></div></div>
<div class="ttc" id="aclassFwdState_html_ac7e9d742721daa3e491cf549ad100fb9"><div class="ttname"><a href="classFwdState.html#ac7e9d742721daa3e491cf549ad100fb9">FwdState::retryOrBail</a></div><div class="ttdeci">void retryOrBail()</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00773">FwdState.cc:773</a></div></div>
<div class="ttc" id="aclassFwdState_html_ace0f0fb74e8cfbc98cac5e07f186ca0b"><div class="ttname"><a href="classFwdState.html#ace0f0fb74e8cfbc98cac5e07f186ca0b">FwdState::noteConnection</a></div><div class="ttdeci">void noteConnection(HappyConnOpenerAnswer &amp;)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00840">FwdState.cc:840</a></div></div>
<div class="ttc" id="aclassFwdState_html_ad23f0bb47fe71666c974afd101763028"><div class="ttname"><a href="classFwdState.html#ad23f0bb47fe71666c974afd101763028">FwdState::destinations</a></div><div class="ttdeci">ResolvedPeersPointer destinations</div><div class="ttdoc">paths for forwarding the request</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00236">FwdState.h:236</a></div></div>
<div class="ttc" id="aclassFwdState_html_ad7baeef92bc0c8bc529231234a8451b0"><div class="ttname"><a href="classFwdState.html#ad7baeef92bc0c8bc529231234a8451b0">FwdState::notifyConnOpener</a></div><div class="ttdeci">void notifyConnOpener()</div><div class="ttdoc">makes sure connection opener knows that the destinations have changed</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00661">FwdState.cc:661</a></div></div>
<div class="ttc" id="aclassFwdState_html_adaca05a860b705c9391f1de6a7b28ecc"><div class="ttname"><a href="classFwdState.html#adaca05a860b705c9391f1de6a7b28ecc">FwdState::markStoredReplyAsWhole</a></div><div class="ttdeci">void markStoredReplyAsWhole(const char *whyWeAreSure)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00575">FwdState.cc:575</a></div></div>
<div class="ttc" id="aclassFwdState_html_adb32dae8f6dc230819314ce4b895063d"><div class="ttname"><a href="classFwdState.html#adb32dae8f6dc230819314ce4b895063d">FwdState::connectStart</a></div><div class="ttdeci">void connectStart()</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01115">FwdState.cc:1115</a></div></div>
<div class="ttc" id="aclassFwdState_html_addb4912851a3a0159e24b850de1a8bf7"><div class="ttname"><a href="classFwdState.html#addb4912851a3a0159e24b850de1a8bf7">FwdState::self</a></div><div class="ttdeci">Pointer self</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00210">FwdState.h:210</a></div></div>
<div class="ttc" id="aclassFwdState_html_ae17e6ff714f4d442075033984c1d8cc5"><div class="ttname"><a href="classFwdState.html#ae17e6ff714f4d442075033984c1d8cc5">FwdState::destinationReceipt</a></div><div class="ttdeci">PeerConnectionPointer destinationReceipt</div><div class="ttdoc">peer selection result (or nil)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00238">FwdState.h:238</a></div></div>
<div class="ttc" id="aclassFwdState_html_ae21810bf43359ab8862d91914b5c3872"><div class="ttname"><a href="classFwdState.html#ae21810bf43359ab8862d91914b5c3872">FwdState::useDestinations</a></div><div class="ttdeci">void useDestinations()</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00437">FwdState.cc:437</a></div></div>
<div class="ttc" id="aclassFwdState_html_ae68cf398e48e712995401e86a26442fb"><div class="ttname"><a href="classFwdState.html#ae68cf398e48e712995401e86a26442fb">FwdState::secureConnectionToPeer</a></div><div class="ttdeci">void secureConnectionToPeer(const Comm::ConnectionPointer &amp;)</div><div class="ttdoc">encrypts an established TCP connection to peer (including origin servers)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00996">FwdState.cc:996</a></div></div>
<div class="ttc" id="aclassFwdState_html_aee3d157b8666452a80f9f976a5558df1"><div class="ttname"><a href="classFwdState.html#aee3d157b8666452a80f9f976a5558df1">FwdState::fwdStart</a></div><div class="ttdeci">static void fwdStart(const Comm::ConnectionPointer &amp;client, StoreEntry *, HttpRequest *)</div><div class="ttdoc">Same as Start() but no master xaction info (AccessLogEntry) available.</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00407">FwdState.cc:407</a></div></div>
<div class="ttc" id="aclassFwdState_html_aeeddd9c0e29dcacc4348b620ac31454d"><div class="ttname"><a href="classFwdState.html#aeeddd9c0e29dcacc4348b620ac31454d">FwdState::syncHierNote</a></div><div class="ttdeci">void syncHierNote(const Comm::ConnectionPointer &amp;server, const char *host)</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01085">FwdState.cc:1085</a></div></div>
<div class="ttc" id="aclassFwdState_html_aefb4585da3148562f1a689a5b03f12d7"><div class="ttname"><a href="classFwdState.html#aefb4585da3148562f1a689a5b03f12d7">FwdState::reforward</a></div><div class="ttdeci">int reforward()</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01308">FwdState.cc:1308</a></div></div>
<div class="ttc" id="aclassFwdState_html_af4ff3d2c0f204985c5fbbdd9da8c60a5"><div class="ttname"><a href="classFwdState.html#af4ff3d2c0f204985c5fbbdd9da8c60a5">FwdState::al</a></div><div class="ttdeci">AccessLogEntryPointer al</div><div class="ttdoc">info for the future access.log entry</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00204">FwdState.h:204</a></div></div>
<div class="ttc" id="aclassFwdState_html_af672c28d713c5ceb7534b7e542657067"><div class="ttname"><a href="classFwdState.html#af672c28d713c5ceb7534b7e542657067">FwdState::makeConnectingError</a></div><div class="ttdeci">ErrorState * makeConnectingError(const err_type type) const</div></div>
<div class="ttc" id="aclassFwdState_html_af82d1e3d2fbce848d97acb1f84b66d19"><div class="ttname"><a href="classFwdState.html#af82d1e3d2fbce848d97acb1f84b66d19">FwdState::pinnedCanRetry</a></div><div class="ttdeci">bool pinnedCanRetry() const</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01422">FwdState.cc:1422</a></div></div>
<div class="ttc" id="aclassFwdState_html_afaff701d57c00b631c62ea8f773e8291"><div class="ttname"><a href="classFwdState.html#afaff701d57c00b631c62ea8f773e8291">FwdState::advanceDestination</a></div><div class="ttdeci">void advanceDestination(const char *stepDescription, const Comm::ConnectionPointer &amp;conn, const StepStart &amp;startStep)</div><div class="ttdoc">starts a preparation step for an established connection; retries on failures</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l00820">FwdState.cc:820</a></div></div>
<div class="ttc" id="aclassFwdState_html_afbcd88b617fe0adf296920400a68fa41"><div class="ttname"><a href="classFwdState.html#afbcd88b617fe0adf296920400a68fa41">FwdState::err</a></div><div class="ttdeci">ErrorState * err</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00211">FwdState.h:211</a></div></div>
<div class="ttc" id="aclassHappyConnOpenerAnswer_html"><div class="ttname"><a href="classHappyConnOpenerAnswer.html">HappyConnOpenerAnswer</a></div><div class="ttdoc">Final result (an open connection or an error) sent to the job initiator.</div><div class="ttdef"><b>Definition</b> <a href="HappyConnOpener_8h_source.html#l00075">HappyConnOpener.h:76</a></div></div>
<div class="ttc" id="aclassHappyConnOpenerAnswer_html_a6d337d19f02643269cc2c57f0dd60d18"><div class="ttname"><a href="classHappyConnOpenerAnswer.html#a6d337d19f02643269cc2c57f0dd60d18">HappyConnOpenerAnswer::conn</a></div><div class="ttdeci">PeerConnectionPointer conn</div><div class="ttdef"><b>Definition</b> <a href="HappyConnOpener_8h_source.html#l00085">HappyConnOpener.h:85</a></div></div>
<div class="ttc" id="aclassHappyConnOpener_html"><div class="ttname"><a href="classHappyConnOpener.html">HappyConnOpener</a></div><div class="ttdef"><b>Definition</b> <a href="HappyConnOpener_8h_source.html#l00105">HappyConnOpener.h:106</a></div></div>
<div class="ttc" id="aclassHttpRequest_html"><div class="ttname"><a href="classHttpRequest.html">HttpRequest</a></div><div class="ttdef"><b>Definition</b> <a href="HttpRequest_8h_source.html#l00048">HttpRequest.h:49</a></div></div>
<div class="ttc" id="aclassHttp_1_1TunnelerAnswer_html"><div class="ttname"><a href="classHttp_1_1TunnelerAnswer.html">Http::TunnelerAnswer</a></div><div class="ttdef"><b>Definition</b> <a href="HttpTunnelerAnswer_8h_source.html#l00029">HttpTunnelerAnswer.h:30</a></div></div>
<div class="ttc" id="aclassIp_1_1NfMarkConfig_html"><div class="ttname"><a href="classIp_1_1NfMarkConfig.html">Ip::NfMarkConfig</a></div><div class="ttdoc">a netfilter mark/mask pair</div><div class="ttdef"><b>Definition</b> <a href="NfMarkConfig_8h_source.html#l00022">NfMarkConfig.h:23</a></div></div>
<div class="ttc" id="aclassJobWait_html"><div class="ttname"><a href="classJobWait.html">JobWait</a></div><div class="ttdef"><b>Definition</b> <a href="JobWait_8h_source.html#l00063">JobWait.h:64</a></div></div>
<div class="ttc" id="aclassPconnPool_html"><div class="ttname"><a href="classPconnPool.html">PconnPool</a></div><div class="ttdef"><b>Definition</b> <a href="pconn_8h_source.html#l00115">pconn.h:116</a></div></div>
<div class="ttc" id="aclassPeerConnectionPointer_html"><div class="ttname"><a href="classPeerConnectionPointer.html">PeerConnectionPointer</a></div><div class="ttdef"><b>Definition</b> <a href="ResolvedPeers_8h_source.html#l00121">ResolvedPeers.h:122</a></div></div>
<div class="ttc" id="aclassPeerSelectionInitiator_html"><div class="ttname"><a href="classPeerSelectionInitiator.html">PeerSelectionInitiator</a></div><div class="ttdoc">Interface for those who need a list of peers to forward a request to.</div><div class="ttdef"><b>Definition</b> <a href="PeerSelectState_8h_source.html#l00032">PeerSelectState.h:33</a></div></div>
<div class="ttc" id="aclassPeeringActivityTimer_html"><div class="ttname"><a href="classPeeringActivityTimer.html">PeeringActivityTimer</a></div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00057">FwdState.h:58</a></div></div>
<div class="ttc" id="aclassPeeringActivityTimer_html_a953168b1d780e94ba236f74968580345"><div class="ttname"><a href="classPeeringActivityTimer.html#a953168b1d780e94ba236f74968580345">PeeringActivityTimer::stop</a></div><div class="ttdeci">void stop()</div><div class="ttdoc">pauses timer if stop() has not been called</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00064">FwdState.h:64</a></div></div>
<div class="ttc" id="aclassPeeringActivityTimer_html_a9cbf1b7195117403daf60d37dd020b89"><div class="ttname"><a href="classPeeringActivityTimer.html#a9cbf1b7195117403daf60d37dd020b89">PeeringActivityTimer::timer</a></div><div class="ttdeci">Stopwatch &amp; timer()</div><div class="ttdoc">managed Stopwatch object within HierarchyLogEntry</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01597">FwdState.cc:1597</a></div></div>
<div class="ttc" id="aclassPeeringActivityTimer_html_a9f8367d2e97ca0e2f1dcaf5d79ceb0c0"><div class="ttname"><a href="classPeeringActivityTimer.html#a9f8367d2e97ca0e2f1dcaf5d79ceb0c0">PeeringActivityTimer::request</a></div><div class="ttdeci">HttpRequestPointer request</div><div class="ttdoc">the owner of managed HierarchyLogEntry</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00077">FwdState.h:77</a></div></div>
<div class="ttc" id="aclassPeeringActivityTimer_html_ab128046e264e7f990757d1367716c3bb"><div class="ttname"><a href="classPeeringActivityTimer.html#ab128046e264e7f990757d1367716c3bb">PeeringActivityTimer::~PeeringActivityTimer</a></div><div class="ttdeci">~PeeringActivityTimer()</div><div class="ttdoc">pauses timer if stop() has not been called</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8cc_source.html#l01591">FwdState.cc:1591</a></div></div>
<div class="ttc" id="aclassPeeringActivityTimer_html_ace7997800bb708d129dfa86fd35afb70"><div class="ttname"><a href="classPeeringActivityTimer.html#ace7997800bb708d129dfa86fd35afb70">PeeringActivityTimer::stopped</a></div><div class="ttdeci">bool stopped</div><div class="ttdoc">Whether the task is done participating in the managed activity.</div><div class="ttdef"><b>Definition</b> <a href="FwdState_8h_source.html#l00083">FwdState.h:83</a></div></div>
<div class="ttc" id="aclassRefCount_html"><div class="ttname"><a href="classRefCount.html">RefCount</a></div><div class="ttdef"><b>Definition</b> <a href="RefCount_8h_source.html#l00027">RefCount.h:28</a></div></div>
<div class="ttc" id="aclassResolvedPeers_html"><div class="ttname"><a href="classResolvedPeers.html">ResolvedPeers</a></div><div class="ttdef"><b>Definition</b> <a href="ResolvedPeers_8h_source.html#l00033">ResolvedPeers.h:34</a></div></div>
<div class="ttc" id="aclassSecurity_1_1EncryptorAnswer_html"><div class="ttname"><a href="classSecurity_1_1EncryptorAnswer.html">Security::EncryptorAnswer</a></div><div class="ttdef"><b>Definition</b> <a href="EncryptorAnswer_8h_source.html#l00021">EncryptorAnswer.h:22</a></div></div>
<div class="ttc" id="aclassStopwatch_html"><div class="ttname"><a href="classStopwatch.html">Stopwatch</a></div><div class="ttdef"><b>Definition</b> <a href="Stopwatch_8h_source.html#l00018">Stopwatch.h:19</a></div></div>
<div class="ttc" id="aclassStopwatch_html_a2cc48295d6b083361d062b8eb68d753a"><div class="ttname"><a href="classStopwatch.html#a2cc48295d6b083361d062b8eb68d753a">Stopwatch::pause</a></div><div class="ttdeci">void pause()</div><div class="ttdoc">ends the current measurement period if needed; requires prior resume()</div><div class="ttdef"><b>Definition</b> <a href="Stopwatch_8cc_source.html#l00041">Stopwatch.cc:41</a></div></div>
<div class="ttc" id="aclassStoreEntry_html"><div class="ttname"><a href="classStoreEntry.html">StoreEntry</a></div><div class="ttdef"><b>Definition</b> <a href="Store_8h_source.html#l00037">Store.h:38</a></div></div>
<div class="ttc" id="aclassacl__nfmark_html"><div class="ttname"><a href="classacl__nfmark.html">acl_nfmark</a></div><div class="ttdef"><b>Definition</b> <a href="QosConfig_8h_source.html#l00046">QosConfig.h:47</a></div></div>
<div class="ttc" id="aclassacl__tos_html"><div class="ttname"><a href="classacl__tos.html">acl_tos</a></div><div class="ttdef"><b>Definition</b> <a href="QosConfig_8h_source.html#l00032">QosConfig.h:33</a></div></div>
<div class="ttc" id="aclients_2forward_8h_html"><div class="ttname"><a href="clients_2forward_8h.html">forward.h</a></div></div>
<div class="ttc" id="acomm_8h_html"><div class="ttname"><a href="comm_8h.html">comm.h</a></div></div>
<div class="ttc" id="aerror_2forward_8h_html"><div class="ttname"><a href="error_2forward_8h.html">forward.h</a></div></div>
<div class="ttc" id="aerror_2forward_8h_html_a0c0ad09d74260ddc16d72bc291116e1a"><div class="ttname"><a href="error_2forward_8h.html#a0c0ad09d74260ddc16d72bc291116e1a">err_type</a></div><div class="ttdeci">err_type</div><div class="ttdef"><b>Definition</b> <a href="error_2forward_8h_source.html#l00014">forward.h:14</a></div></div>
<div class="ttc" id="afde_8h_html"><div class="ttname"><a href="fde_8h.html">fde.h</a></div></div>
<div class="ttc" id="aip_2Address_8h_html"><div class="ttname"><a href="ip_2Address_8h.html">Address.h</a></div></div>
<div class="ttc" id="aip_2forward_8h_html"><div class="ttname"><a href="ip_2forward_8h.html">forward.h</a></div></div>
<div class="ttc" id="aip_2forward_8h_html_a6bd5fd9a27e152eb6dd4faa68729f310"><div class="ttname"><a href="ip_2forward_8h.html#a6bd5fd9a27e152eb6dd4faa68729f310">tos_t</a></div><div class="ttdeci">unsigned char tos_t</div><div class="ttdef"><b>Definition</b> <a href="ip_2forward_8h_source.html#l00027">forward.h:27</a></div></div>
<div class="ttc" id="anamespaceComm_html_a9d8d4f4a5745b975c5785998e4246050"><div class="ttname"><a href="namespaceComm.html#a9d8d4f4a5745b975c5785998e4246050">Comm::Flag</a></div><div class="ttdeci">Flag</div><div class="ttdef"><b>Definition</b> <a href="Flag_8h_source.html#l00015">Flag.h:15</a></div></div>
<div class="ttc" id="anamespaceHttp_html_a432f881deb187c726161d6435daec722"><div class="ttname"><a href="namespaceHttp.html#a432f881deb187c726161d6435daec722">Http::StatusCode</a></div><div class="ttdeci">StatusCode</div><div class="ttdef"><b>Definition</b> <a href="StatusCode_8h_source.html#l00020">StatusCode.h:20</a></div></div>
<div class="ttc" id="asecurity_2forward_8h_html"><div class="ttname"><a href="security_2forward_8h.html">forward.h</a></div></div>
<div class="ttc" id="assl_2support_8h_html"><div class="ttname"><a href="ssl_2support_8h.html">support.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_3c69fff7f634b97773a4d39d4565ffb4.html">squid</a></li><li class="navelem"><a class="el" href="dir_27a06220d184fcc3bd2c56b7794ae45b.html">src</a></li><li class="navelem"><a class="el" href="FwdState_8h.html">FwdState.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
