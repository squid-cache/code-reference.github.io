<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Squid Web Cache: squid/src/HttpHeaderTools.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Squid Web Cache<span id="projectnumber">&#160;master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('HttpHeaderTools_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">HttpHeaderTools.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="RegisteredHeaders_8h_source.html">http/RegisteredHeaders.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sbuf_2forward_8h_source.html">sbuf/forward.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for HttpHeaderTools.h:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="HttpHeaderTools_8h__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="HttpHeaderTools_8h__dep__incl.svg" width="100%" height="393"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div>
<p><a href="HttpHeaderTools_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a73c6dda4df2910b7c0e21ebd3f63a8c9" id="r_a73c6dda4df2910b7c0e21ebd3f63a8c9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HttpHeaderTools_8h.html#a73c6dda4df2910b7c0e21ebd3f63a8c9">httpHeaderParseOffset</a> (const char *start, int64_t *offPtr, char **endPtr=nullptr)</td></tr>
<tr class="separator:a73c6dda4df2910b7c0e21ebd3f63a8c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af557a2c393cd8ee5d2d1be9039891c47" id="r_af557a2c393cd8ee5d2d1be9039891c47"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HttpHeaderTools_8h.html#af557a2c393cd8ee5d2d1be9039891c47">httpHeaderHasConnDir</a> (const <a class="el" href="classHttpHeader.html">HttpHeader</a> *hdr, const <a class="el" href="classSBuf.html">SBuf</a> &amp;directive)</td></tr>
<tr class="separator:af557a2c393cd8ee5d2d1be9039891c47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b3d9536c2e9c845ae88a9063d8a619a" id="r_a8b3d9536c2e9c845ae88a9063d8a619a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stub__fd_8cc.html#a490d5097953ca1717c1cb2f05251ce45">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HttpHeaderTools_8h.html#a8b3d9536c2e9c845ae88a9063d8a619a">httpHeaderParseInt</a> (const char *start, <a class="el" href="stub__fd_8cc.html#a490d5097953ca1717c1cb2f05251ce45">int</a> *val)</td></tr>
<tr class="separator:a8b3d9536c2e9c845ae88a9063d8a619a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae2faa6044d24c559a852fd6530ddd88" id="r_aae2faa6044d24c559a852fd6530ddd88"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HttpHeaderTools_8h.html#aae2faa6044d24c559a852fd6530ddd88">httpHeaderPutStrf</a> (<a class="el" href="classHttpHeader.html">HttpHeader</a> *hdr, <a class="el" href="namespaceHttp.html#a92faa3c60e0b457c167759389ae061a4">Http::HdrType</a> id, const char *fmt,...) <a class="el" href="compat__shared_8h.html#aa40e4db53e4ec01bae7264f697bd2c89">PRINTF_FORMAT_ARG3</a></td></tr>
<tr class="separator:aae2faa6044d24c559a852fd6530ddd88"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="af557a2c393cd8ee5d2d1be9039891c47" name="af557a2c393cd8ee5d2d1be9039891c47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af557a2c393cd8ee5d2d1be9039891c47">&#9670;&#160;</a></span>httpHeaderHasConnDir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool httpHeaderHasConnDir </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classHttpHeader.html">HttpHeader</a> *&#160;</td>
          <td class="paramname"><em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSBuf.html">SBuf</a> &amp;&#160;</td>
          <td class="paramname"><em>directive</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>true if a given directive is found in the Connection header field-value.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>if no Connection header exists we may check the Proxy-Connection header </dd></dl>

<p class="definition">Definition at line <a class="el" href="HttpHeaderTools_8cc_source.html#l00062">62</a> of file <a class="el" href="HttpHeaderTools_8cc_source.html">HttpHeaderTools.cc</a>.</p>

<p class="reference">References <a class="el" href="namespaceHttp.html#a92faa3c60e0b457c167759389ae061a4a21db8a0f647c77f4dd700baeed4be945">Http::CONNECTION</a>, <a class="el" href="classHttpHeader.html#a5bd52e3f8d517f7c1c919aa4a82f4e29">HttpHeader::getList()</a>, <a class="el" href="namespaceHttp.html#a92faa3c60e0b457c167759389ae061a4a4e5018298f45a7e929cd777c3e8d1868">Http::PROXY_CONNECTION</a>, and <a class="el" href="StrList_8cc.html#a560ffbad1f8bc452525e1f9e09116f4f">strListIsMember()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classAdaptation_1_1Icap_1_1ModXact.html#acdf56e2ec78cee452cd9c3f6311ad588">Adaptation::Icap::ModXact::parseIcapHead()</a>, <a class="el" href="classAdaptation_1_1Icap_1_1OptXact.html#a413ab699e8c12310bd795bfe82085165">Adaptation::Icap::OptXact::parseResponse()</a>, <a class="el" href="classHttp_1_1Message.html#a321ae82a5f96da7438f3054d38c8fe5c">Http::Message::persistent()</a>, and <a class="el" href="classHttpStateData.html#a91cb691a3d2b4dd31fee57f0cad74275">HttpStateData::statusIfComplete()</a>.</p>

</div>
</div>
<a id="a8b3d9536c2e9c845ae88a9063d8a619a" name="a8b3d9536c2e9c845ae88a9063d8a619a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b3d9536c2e9c845ae88a9063d8a619a">&#9670;&#160;</a></span>httpHeaderParseInt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stub__fd_8cc.html#a490d5097953ca1717c1cb2f05251ce45">int</a> httpHeaderParseInt </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stub__fd_8cc.html#a490d5097953ca1717c1cb2f05251ce45">int</a> *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>parses an int field, complains if something went wrong, returns true on success </p>

<p class="definition">Definition at line <a class="el" href="HttpHeaderTools_8cc_source.html#l00084">84</a> of file <a class="el" href="HttpHeaderTools_8cc_source.html">HttpHeaderTools.cc</a>.</p>

<p class="reference">References <a class="el" href="assert_8h.html#a33fa45e42155e69ce8d0da0fd978b351">assert</a>, <a class="el" href="debug_2Stream_8h.html#ad8cd33a7d75c0efd4d3fd369dc6a8f13">debugs</a>, and <a class="el" href="xis_8h.html#a9132acb9b6ad4bf867f4258ff707e7df">xisdigit</a>.</p>

<p class="reference">Referenced by <a class="el" href="classHttpHeaderEntry.html#a4dd4adacea1e2c2d0f22144272016722">HttpHeaderEntry::getInt()</a>, <a class="el" href="classHttpHdrCc.html#a7c1066defe664e24bc482fb4107d6e31">HttpHdrCc::parse()</a>, and <a class="el" href="classHttpHdrSc.html#aecf6c5e69ec23ce799929a0d0c1ca497">HttpHdrSc::parse()</a>.</p>

</div>
</div>
<a id="a73c6dda4df2910b7c0e21ebd3f63a8c9" name="a73c6dda4df2910b7c0e21ebd3f63a8c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73c6dda4df2910b7c0e21ebd3f63a8c9">&#9670;&#160;</a></span>httpHeaderParseOffset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool httpHeaderParseOffset </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>offPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>endPtr</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A strtoll(10) wrapper that checks for <a class="el" href="strtoll_8c.html#a6d7fad4b09dcc36131cf70e8ec8bb77b">strtoll()</a> failures and other problems. XXX: This function is not fully compatible with some HTTP syntax rules. Just like <a class="el" href="strtoll_8c.html#a6d7fad4b09dcc36131cf70e8ec8bb77b">strtoll()</a>, allows whitespace prefix, a sign, and <em>any</em> suffix. Requires at least one digit to be present. Sets "off" and "end" arguments if and only if no problems were found. </p><dl class="section return"><dt>Returns</dt><dd>true if and only if no problems were found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="HttpHeaderTools_8cc_source.html#l00098">98</a> of file <a class="el" href="HttpHeaderTools_8cc_source.html">HttpHeaderTools.cc</a>.</p>

<p class="reference">References <a class="el" href="debug_2Stream_8h.html#ad8cd33a7d75c0efd4d3fd369dc6a8f13">debugs</a>, and <a class="el" href="strtoll_8c.html#a6d7fad4b09dcc36131cf70e8ec8bb77b">strtoll()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classHttp_1_1ContentLengthInterpreter.html#acf614f53d296be513fa941f962ecdd03">Http::ContentLengthInterpreter::checkValue()</a>, <a class="el" href="classHttpHeaderEntry.html#aabca9e3f4639ceca871ae817dbf20903">HttpHeaderEntry::getInt64()</a>, <a class="el" href="HttpHdrContRange_8cc.html#ae775835d1ed0d0896f60bfa95451099d">httpHdrContRangeParseInit()</a>, <a class="el" href="HttpHdrContRange_8cc.html#a71ef3dca40354c6c7f1545d81f2caf10">httpHdrRangeRespSpecParseInit()</a>, and <a class="el" href="classHttpHdrRangeSpec.html#a7e76ae2008018f6a2a7da835861478dd">HttpHdrRangeSpec::parseInit()</a>.</p>

</div>
</div>
<a id="aae2faa6044d24c559a852fd6530ddd88" name="aae2faa6044d24c559a852fd6530ddd88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae2faa6044d24c559a852fd6530ddd88">&#9670;&#160;</a></span>httpHeaderPutStrf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void httpHeaderPutStrf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classHttpHeader.html">HttpHeader</a> *&#160;</td>
          <td class="paramname"><em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceHttp.html#a92faa3c60e0b457c167759389ae061a4">Http::HdrType</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="HttpHeaderTools_8cc_source.html#l00025">25</a> of file <a class="el" href="HttpHeaderTools_8cc_source.html">HttpHeaderTools.cc</a>.</p>

<p class="reference">References <a class="el" href="HttpHeaderTools_8cc.html#aaa0d714c02b4ff6b010764d745b37d4c">httpHeaderPutStrvf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classErrorState.html#acd83d0f3e887b952e707a0b83e1630ca">ErrorState::BuildHttpReply()</a>, <a class="el" href="classHttp_1_1Stream.html#aa048e8258736e6353d61208dffe5735d">Http::Stream::buildRangeHeader()</a>, <a class="el" href="classclientReplyContext.html#a58f125fb5351a6e1dd3eade425bed651">clientReplyContext::buildReplyHeader()</a>, <a class="el" href="classHttpStateData.html#a502ee153428b0bfa4e0ee66b84f46b7f">HttpStateData::httpBuildRequestHeader()</a>, <a class="el" href="http_8cc.html#aa18c8c772250904251bb0b8af47c018a">httpFixupAuthentication()</a>, and <a class="el" href="classHttpHeader.html#ad118af2c7acef19877cd6a99f02a6141">HttpHeader::putAuth()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_3c69fff7f634b97773a4d39d4565ffb4.html">squid</a></li><li class="navelem"><a class="el" href="dir_27a06220d184fcc3bd2c56b7794ae45b.html">src</a></li><li class="navelem"><a class="el" href="HttpHeaderTools_8h.html">HttpHeaderTools.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
