<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Squid Web Cache: Store::Storage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Squid Web Cache<span id="projectnumber">&#160;master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classStore_1_1Storage.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classStore_1_1Storage-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Store::Storage Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="Storage_8h_source.html">Storage.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Store::Storage:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classStore_1_1Storage__inherit__graph.svg" width="532" height="330"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Store::Storage:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classStore_1_1Storage__coll__graph.svg" width="126" height="110"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a14e137d4aee0015ad72a2944bd342002" id="r_a14e137d4aee0015ad72a2944bd342002"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStore_1_1Storage.html#a14e137d4aee0015ad72a2944bd342002">~Storage</a> () override</td></tr>
<tr class="separator:a14e137d4aee0015ad72a2944bd342002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14fc384971d4b3a5bed23bc3605f3fcf" id="r_a14fc384971d4b3a5bed23bc3605f3fcf"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStore_1_1Storage.html#a14fc384971d4b3a5bed23bc3605f3fcf">create</a> ()=0</td></tr>
<tr class="memdesc:a14fc384971d4b3a5bed23bc3605f3fcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">create system resources needed for this store to operate in the future  <br /></td></tr>
<tr class="separator:a14fc384971d4b3a5bed23bc3605f3fcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28fc131bdc433decdb0b367e8e337647" id="r_a28fc131bdc433decdb0b367e8e337647"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStore_1_1Storage.html#a28fc131bdc433decdb0b367e8e337647">init</a> ()=0</td></tr>
<tr class="separator:a28fc131bdc433decdb0b367e8e337647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11a1a559c26f6ffde316183cd29d0761" id="r_a11a1a559c26f6ffde316183cd29d0761"><td class="memItemLeft" align="right" valign="top">virtual uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStore_1_1Storage.html#a11a1a559c26f6ffde316183cd29d0761">maxSize</a> () const =0</td></tr>
<tr class="separator:a11a1a559c26f6ffde316183cd29d0761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ce11e0208d98dba9b04ba26ebf0d969" id="r_a1ce11e0208d98dba9b04ba26ebf0d969"><td class="memItemLeft" align="right" valign="top">virtual uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStore_1_1Storage.html#a1ce11e0208d98dba9b04ba26ebf0d969">minSize</a> () const =0</td></tr>
<tr class="memdesc:a1ce11e0208d98dba9b04ba26ebf0d969"><td class="mdescLeft">&#160;</td><td class="mdescRight">the minimum size the store will shrink to via normal housekeeping  <br /></td></tr>
<tr class="separator:a1ce11e0208d98dba9b04ba26ebf0d969"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30cd393a844c8fee6ce50795af568b49" id="r_a30cd393a844c8fee6ce50795af568b49"><td class="memItemLeft" align="right" valign="top">virtual uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStore_1_1Storage.html#a30cd393a844c8fee6ce50795af568b49">currentSize</a> () const =0</td></tr>
<tr class="memdesc:a30cd393a844c8fee6ce50795af568b49"><td class="mdescLeft">&#160;</td><td class="mdescRight">current size  <br /></td></tr>
<tr class="separator:a30cd393a844c8fee6ce50795af568b49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ef421a0f398eaf7a9f2a41a5dd522af" id="r_a7ef421a0f398eaf7a9f2a41a5dd522af"><td class="memItemLeft" align="right" valign="top">virtual uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStore_1_1Storage.html#a7ef421a0f398eaf7a9f2a41a5dd522af">currentCount</a> () const =0</td></tr>
<tr class="memdesc:a7ef421a0f398eaf7a9f2a41a5dd522af"><td class="mdescLeft">&#160;</td><td class="mdescRight">the total number of objects stored right now  <br /></td></tr>
<tr class="separator:a7ef421a0f398eaf7a9f2a41a5dd522af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a497743d4af93c321a2053aa661c84e92" id="r_a497743d4af93c321a2053aa661c84e92"><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStore_1_1Storage.html#a497743d4af93c321a2053aa661c84e92">maxObjectSize</a> () const =0</td></tr>
<tr class="memdesc:a497743d4af93c321a2053aa661c84e92"><td class="mdescLeft">&#160;</td><td class="mdescRight">the maximum size of a storable object; -1 if unlimited  <br /></td></tr>
<tr class="separator:a497743d4af93c321a2053aa661c84e92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa344a4594afe1d6d10892d12301936de" id="r_aa344a4594afe1d6d10892d12301936de"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStore_1_1Storage.html#aa344a4594afe1d6d10892d12301936de">getStats</a> (<a class="el" href="classStoreInfoStats.html">StoreInfoStats</a> &amp;stats) const =0</td></tr>
<tr class="memdesc:aa344a4594afe1d6d10892d12301936de"><td class="mdescLeft">&#160;</td><td class="mdescRight">collect statistics  <br /></td></tr>
<tr class="separator:aa344a4594afe1d6d10892d12301936de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a497122b030ffa821a2182066c26c9dde" id="r_a497122b030ffa821a2182066c26c9dde"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStore_1_1Storage.html#a497122b030ffa821a2182066c26c9dde">stat</a> (<a class="el" href="classStoreEntry.html">StoreEntry</a> &amp;e) const =0</td></tr>
<tr class="separator:a497122b030ffa821a2182066c26c9dde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfc2d67a0d9ad4e117d5d2254727c62f" id="r_adfc2d67a0d9ad4e117d5d2254727c62f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStore_1_1Storage.html#adfc2d67a0d9ad4e117d5d2254727c62f">evictCached</a> (<a class="el" href="classStoreEntry.html">StoreEntry</a> &amp;e)=0</td></tr>
<tr class="separator:adfc2d67a0d9ad4e117d5d2254727c62f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bf66f95adbcfa2ed7f2d3091b8748a4" id="r_a3bf66f95adbcfa2ed7f2d3091b8748a4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStore_1_1Storage.html#a3bf66f95adbcfa2ed7f2d3091b8748a4">evictIfFound</a> (const <a class="el" href="store_2forward_8h.html#ab1424e1b13666cc28f4c5cb05f8c8305">cache_key</a> *)=0</td></tr>
<tr class="separator:a3bf66f95adbcfa2ed7f2d3091b8748a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99c14693126fe25d4100a8d27d108640" id="r_a99c14693126fe25d4100a8d27d108640"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="stub__fd_8cc.html#a490d5097953ca1717c1cb2f05251ce45">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStore_1_1Storage.html#a99c14693126fe25d4100a8d27d108640">callback</a> ()</td></tr>
<tr class="memdesc:a99c14693126fe25d4100a8d27d108640"><td class="mdescLeft">&#160;</td><td class="mdescRight">called once every main loop iteration; TODO: Move to UFS code.  <br /></td></tr>
<tr class="separator:a99c14693126fe25d4100a8d27d108640"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb4ea12bda2a9f94913a447f5b40f0c6" id="r_acb4ea12bda2a9f94913a447f5b40f0c6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStore_1_1Storage.html#acb4ea12bda2a9f94913a447f5b40f0c6">maintain</a> ()=0</td></tr>
<tr class="memdesc:acb4ea12bda2a9f94913a447f5b40f0c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">perform regular periodic maintenance; TODO: move to UFSSwapDir::Maintain  <br /></td></tr>
<tr class="separator:acb4ea12bda2a9f94913a447f5b40f0c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ddd28191e3c5299b5d485f786e7d77a" id="r_a7ddd28191e3c5299b5d485f786e7d77a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStore_1_1Storage.html#a7ddd28191e3c5299b5d485f786e7d77a">sync</a> ()</td></tr>
<tr class="memdesc:a7ddd28191e3c5299b5d485f786e7d77a"><td class="mdescLeft">&#160;</td><td class="mdescRight">prepare for shutdown  <br /></td></tr>
<tr class="separator:a7ddd28191e3c5299b5d485f786e7d77a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A "response storage" abstraction. This API is shared among <a class="el" href="classStore_1_1Controller.html">Controller</a> and <a class="el" href="classStore_1_1Controlled.html">Controlled</a> classes. </p>

<p class="definition">Definition at line <a class="el" href="Storage_8h_source.html#l00023">23</a> of file <a class="el" href="Storage_8h_source.html">Storage.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a14e137d4aee0015ad72a2944bd342002" name="a14e137d4aee0015ad72a2944bd342002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14e137d4aee0015ad72a2944bd342002">&#9670;&#160;</a></span>~Storage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Store::Storage::~Storage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Storage_8h_source.html#l00026">26</a> of file <a class="el" href="Storage_8h_source.html">Storage.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a99c14693126fe25d4100a8d27d108640" name="a99c14693126fe25d4100a8d27d108640"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99c14693126fe25d4100a8d27d108640">&#9670;&#160;</a></span>callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="stub__fd_8cc.html#a490d5097953ca1717c1cb2f05251ce45">int</a> Store::Storage::callback </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="classFs_1_1Ufs_1_1UFSSwapDir.html#a1554c0d480c40f8cac1a8226b1c896e5">Fs::Ufs::UFSSwapDir</a>, <a class="el" href="classStore_1_1Controller.html#af7914121bc3bc13f1ecb3f3fcd593063">Store::Controller</a>, and <a class="el" href="classStore_1_1Disks.html#abc31ed34d8b7247c97148e04cc1b7d63">Store::Disks</a>.</p>

<p class="definition">Definition at line <a class="el" href="Storage_8h_source.html#l00072">72</a> of file <a class="el" href="Storage_8h_source.html">Storage.h</a>.</p>

</div>
</div>
<a id="a14fc384971d4b3a5bed23bc3605f3fcf" name="a14fc384971d4b3a5bed23bc3605f3fcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14fc384971d4b3a5bed23bc3605f3fcf">&#9670;&#160;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Store::Storage::create </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classRock_1_1SwapDir.html#af72a30280c5f9d9f0f566749488c2331">Rock::SwapDir</a>, <a class="el" href="classFs_1_1Ufs_1_1UFSSwapDir.html#a48e2f3181d846307892456097bef1402">Fs::Ufs::UFSSwapDir</a>, <a class="el" href="classMemStore.html#affbcceec8059e5e5502e697b969eb5b2">MemStore</a>, <a class="el" href="classStore_1_1Controller.html#ac54d89201f38f251963d0a7cc83fc80a">Store::Controller</a>, <a class="el" href="classStore_1_1Disk.html#a1749184a3850fc4244c305e40088e512">Store::Disk</a>, <a class="el" href="classStore_1_1Disks.html#a1bbf2fb892978d2da0ea6a2b91ea8924">Store::Disks</a>, and <a class="el" href="classTransients.html#a9fbf6e347a45dc0293e350626461b54c">Transients</a>.</p>

</div>
</div>
<a id="a7ef421a0f398eaf7a9f2a41a5dd522af" name="a7ef421a0f398eaf7a9f2a41a5dd522af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ef421a0f398eaf7a9f2a41a5dd522af">&#9670;&#160;</a></span>currentCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint64_t Store::Storage::currentCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classRock_1_1SwapDir.html#aa4a3ffa706b6d8695d63ab640ceaba80">Rock::SwapDir</a>, <a class="el" href="classFs_1_1Ufs_1_1UFSSwapDir.html#a0e944138d9a10d5ef6d946199466517a">Fs::Ufs::UFSSwapDir</a>, <a class="el" href="classMemStore.html#a1b54c0c658c135179677fcfdf946c5b8">MemStore</a>, <a class="el" href="classStore_1_1Controller.html#af414b140e14f35c33ac6ce3f9785fc3a">Store::Controller</a>, <a class="el" href="classStore_1_1Disks.html#a3bd20fe33612f0fc94acdf641fae7d6e">Store::Disks</a>, <a class="el" href="classTestSwapDir.html#a19e0e38d4855e0ad69284567ac1260b8">TestSwapDir</a>, and <a class="el" href="classTransients.html#add4e1fee8f25578f51076071bc57f9da">Transients</a>.</p>

</div>
</div>
<a id="a30cd393a844c8fee6ce50795af568b49" name="a30cd393a844c8fee6ce50795af568b49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30cd393a844c8fee6ce50795af568b49">&#9670;&#160;</a></span>currentSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint64_t Store::Storage::currentSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classRock_1_1SwapDir.html#ae84aafbd2e7893fe7e3d8f3123c771b6">Rock::SwapDir</a>, <a class="el" href="classFs_1_1Ufs_1_1UFSSwapDir.html#a1da0efe68ed0893acb3723e28de2e343">Fs::Ufs::UFSSwapDir</a>, <a class="el" href="classMemStore.html#aeea87a7c519b9a2b75b0032f2a9823b8">MemStore</a>, <a class="el" href="classStore_1_1Controller.html#acc0b885cfa4fdc706427e5e0f6da68a0">Store::Controller</a>, <a class="el" href="classStore_1_1Disks.html#a70e41e5ee9cdae1157e1850919ad7456">Store::Disks</a>, <a class="el" href="classTestSwapDir.html#a45a8b5ffa868c3169a00de48338733ba">TestSwapDir</a>, and <a class="el" href="classTransients.html#ad74679bd6c533dfe142e8278a4a883a6">Transients</a>.</p>

</div>
</div>
<a id="adfc2d67a0d9ad4e117d5d2254727c62f" name="adfc2d67a0d9ad4e117d5d2254727c62f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfc2d67a0d9ad4e117d5d2254727c62f">&#9670;&#160;</a></span>evictCached()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Store::Storage::evictCached </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classStoreEntry.html">StoreEntry</a> &amp;&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Prevent new get() calls from returning the matching entry. If the matching entry is unused, it may be removed from the store now. The store entry is matched using either <code>e</code> attachment info or <code>e.key</code>. </p>

<p>Implemented in <a class="el" href="classRock_1_1SwapDir.html#a63792128f248f87a9aa9863a465f4926">Rock::SwapDir</a>, <a class="el" href="classFs_1_1Ufs_1_1UFSSwapDir.html#a590871477379a5d9f85176f6e979a57e">Fs::Ufs::UFSSwapDir</a>, <a class="el" href="classMemStore.html#a63941b32a1ba5f969bc479423437efd9">MemStore</a>, <a class="el" href="classStore_1_1Controller.html#adb00553c8d05b8014f766d8455a81f02">Store::Controller</a>, <a class="el" href="classStore_1_1Disks.html#a3092dfc42381c48ec14233a594d267ac">Store::Disks</a>, <a class="el" href="classTestSwapDir.html#a41ba7590361894ad64ca13252778d47f">TestSwapDir</a>, and <a class="el" href="classTransients.html#a929ced607bc35b086d981006de11ae89">Transients</a>.</p>

<p class="reference">Referenced by <a class="el" href="classStore_1_1Disks.html#a3092dfc42381c48ec14233a594d267ac">Store::Disks::evictCached()</a>.</p>

</div>
</div>
<a id="a3bf66f95adbcfa2ed7f2d3091b8748a4" name="a3bf66f95adbcfa2ed7f2d3091b8748a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bf66f95adbcfa2ed7f2d3091b8748a4">&#9670;&#160;</a></span>evictIfFound()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Store::Storage::evictIfFound </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="store_2forward_8h.html#ab1424e1b13666cc28f4c5cb05f8c8305">cache_key</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>An <a class="el" href="classStore_1_1Storage.html#adfc2d67a0d9ad4e117d5d2254727c62f">evictCached()</a> equivalent for callers that did not get() a <a class="el" href="classStoreEntry.html">StoreEntry</a>. Callers with <a class="el" href="classStoreEntry.html">StoreEntry</a> objects must use <a class="el" href="classStore_1_1Storage.html#adfc2d67a0d9ad4e117d5d2254727c62f">evictCached()</a> instead. </p>

<p>Implemented in <a class="el" href="classRock_1_1SwapDir.html#af981979575dbad24129f61dc9fd85a5a">Rock::SwapDir</a>, <a class="el" href="classFs_1_1Ufs_1_1UFSSwapDir.html#a1b10e11386acbda1d2690dbbb2945e86">Fs::Ufs::UFSSwapDir</a>, <a class="el" href="classMemStore.html#acbab5d7bac460d85f98bbf0531acfb60">MemStore</a>, <a class="el" href="classStore_1_1Controller.html#aedba791b442f1fac585676381e262777">Store::Controller</a>, <a class="el" href="classStore_1_1Disks.html#a854414168a76f6bf4cb8e857476fe3bf">Store::Disks</a>, <a class="el" href="classTestSwapDir.html#a26cff1c6c58eba1b12b98aa6ec9644e7">TestSwapDir</a>, and <a class="el" href="classTransients.html#ae574d5debb28f7b4578d611f26696eaa">Transients</a>.</p>

</div>
</div>
<a id="aa344a4594afe1d6d10892d12301936de" name="aa344a4594afe1d6d10892d12301936de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa344a4594afe1d6d10892d12301936de">&#9670;&#160;</a></span>getStats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Store::Storage::getStats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classStoreInfoStats.html">StoreInfoStats</a> &amp;&#160;</td>
          <td class="paramname"><em>stats</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classMemStore.html#afbbdd98f5cc55093c2c7c7e035626765">MemStore</a>, <a class="el" href="classStore_1_1Controller.html#a6ae04b9a1a5a9e5fb988d4f52fe3d010">Store::Controller</a>, <a class="el" href="classStore_1_1Disk.html#acc86d18439cf69c6171ad4ba6984ee70">Store::Disk</a>, <a class="el" href="classStore_1_1Disks.html#a562fc23543c7114cbc62c006ff1d32c4">Store::Disks</a>, and <a class="el" href="classTransients.html#a64056602284f5c70604c44e4c2a5db20">Transients</a>.</p>

</div>
</div>
<a id="a28fc131bdc433decdb0b367e8e337647" name="a28fc131bdc433decdb0b367e8e337647"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28fc131bdc433decdb0b367e8e337647">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Store::Storage::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Start preparing the store for use. To check readiness, callers should use readable() and writable() methods. </p>

<p>Implemented in <a class="el" href="classRock_1_1SwapDir.html#a3d0ed79b4ec641216b09623f96f6c806">Rock::SwapDir</a>, <a class="el" href="classFs_1_1Ufs_1_1UFSSwapDir.html#a71ed70a94ba2db00d700a6625041d2a7">Fs::Ufs::UFSSwapDir</a>, <a class="el" href="classMemStore.html#abb7a39ec7361cfbfe8ce951c180fef3a">MemStore</a>, <a class="el" href="classStore_1_1Controller.html#aad1b150edee5f9b5a61d97da3f2807e5">Store::Controller</a>, <a class="el" href="classStore_1_1Disks.html#adbaa1e5bef0e159cee17c44e4bedf051">Store::Disks</a>, <a class="el" href="classTestSwapDir.html#a703bf5b194c4c5d22224890d0ea03fa4">TestSwapDir</a>, and <a class="el" href="classTransients.html#aa99cdf5dcc2087e897ed07ed7001a5d3">Transients</a>.</p>

</div>
</div>
<a id="acb4ea12bda2a9f94913a447f5b40f0c6" name="acb4ea12bda2a9f94913a447f5b40f0c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb4ea12bda2a9f94913a447f5b40f0c6">&#9670;&#160;</a></span>maintain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Store::Storage::maintain </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classRock_1_1SwapDir.html#abed965bee513084e4d5a2a3558a3a0ee">Rock::SwapDir</a>, <a class="el" href="classFs_1_1Ufs_1_1UFSSwapDir.html#ab422089490dfc2864bd8a03f87bbacba">Fs::Ufs::UFSSwapDir</a>, <a class="el" href="classMemStore.html#af5cfd7812cfd6f492a6e9aeeecc07354">MemStore</a>, <a class="el" href="classStore_1_1Controller.html#a682bccf7eb585f0c8a7e0f934d1f0172">Store::Controller</a>, <a class="el" href="classStore_1_1Disk.html#af7fa909dc4ca5569947577b33e3e11b3">Store::Disk</a>, <a class="el" href="classStore_1_1Disks.html#a81d14c2793fd496fabe5a5ee4c55e748">Store::Disks</a>, and <a class="el" href="classTransients.html#ad0c784f54efb9a05e3f00700429cfa96">Transients</a>.</p>

</div>
</div>
<a id="a497743d4af93c321a2053aa661c84e92" name="a497743d4af93c321a2053aa661c84e92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a497743d4af93c321a2053aa661c84e92">&#9670;&#160;</a></span>maxObjectSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t Store::Storage::maxObjectSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classMemStore.html#aa8db9e6a98fc5ba7c0c0bfe81c134a48">MemStore</a>, <a class="el" href="classStore_1_1Controller.html#aa3fd95d749b63dcec583492154b401a3">Store::Controller</a>, <a class="el" href="classStore_1_1Disk.html#aac159e1e74130c68c7835ac7cf6cf153">Store::Disk</a>, <a class="el" href="classStore_1_1Disks.html#a27da1c8629091fb01b95b9aedebb51a8">Store::Disks</a>, and <a class="el" href="classTransients.html#a69d6fe2cd923d1da8f9e1ca2f6d7e1cd">Transients</a>.</p>

</div>
</div>
<a id="a11a1a559c26f6ffde316183cd29d0761" name="a11a1a559c26f6ffde316183cd29d0761"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11a1a559c26f6ffde316183cd29d0761">&#9670;&#160;</a></span>maxSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint64_t Store::Storage::maxSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The maximum size the store will support in normal use. Inaccuracy is permitted, but may throw estimates for memory etc out of whack. </p>

<p>Implemented in <a class="el" href="classMemStore.html#a9fa77f4d33bd5ed3a45bcce12bcec202">MemStore</a>, <a class="el" href="classStore_1_1Controller.html#a41f5a49f5e32a5fbb1e0f0578805448c">Store::Controller</a>, <a class="el" href="classStore_1_1Disk.html#ad7e06a020a45eb4a2586acc838e9a4d1">Store::Disk</a>, <a class="el" href="classStore_1_1Disks.html#ae9614edd98f090fdbded8a1c4dd1c80c">Store::Disks</a>, <a class="el" href="classTestSwapDir.html#ad799f1e6fa334b6590ca05bfeb831e5b">TestSwapDir</a>, and <a class="el" href="classTransients.html#abdef5987bfae76aa6e70b59857b39695">Transients</a>.</p>

</div>
</div>
<a id="a1ce11e0208d98dba9b04ba26ebf0d969" name="a1ce11e0208d98dba9b04ba26ebf0d969"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ce11e0208d98dba9b04ba26ebf0d969">&#9670;&#160;</a></span>minSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint64_t Store::Storage::minSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classMemStore.html#a322d821eb0727d38d5713fbd86933bae">MemStore</a>, <a class="el" href="classStore_1_1Controller.html#a71994d85aadf8b75665a7f9d7600e006">Store::Controller</a>, <a class="el" href="classStore_1_1Disk.html#a7f82aec9fa5a4d8ecf1b4ab1f8ceec68">Store::Disk</a>, <a class="el" href="classStore_1_1Disks.html#a81511625aef7ab10534ab65897dddd37">Store::Disks</a>, and <a class="el" href="classTransients.html#a9b952d44a2f364e8ad37047e22806d97">Transients</a>.</p>

</div>
</div>
<a id="a497122b030ffa821a2182066c26c9dde" name="a497122b030ffa821a2182066c26c9dde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a497122b030ffa821a2182066c26c9dde">&#9670;&#160;</a></span>stat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Store::Storage::stat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classStoreEntry.html">StoreEntry</a> &amp;&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Output stats to the provided store entry. TODO: make these calls asynchronous </p>

<p>Implemented in <a class="el" href="classStore_1_1Controller.html#a4f91ba31cad8b3b2de7201f6981ebf4c">Store::Controller</a>, <a class="el" href="classStore_1_1Disk.html#ab3b360c94fb8d709b2c2048839125e8a">Store::Disk</a>, <a class="el" href="classStore_1_1Disks.html#a9a69ea558c36bdecbe655b1654a7d715">Store::Disks</a>, <a class="el" href="classTestSwapDir.html#a77e3f5a637cf6552bfce6d99764d7a14">TestSwapDir</a>, <a class="el" href="classMemStore.html#a9419b9bfcd69fc8542f708a13295ff74">MemStore</a>, and <a class="el" href="classTransients.html#a6ac60b01152b32fd509346566148b8ba">Transients</a>.</p>

</div>
</div>
<a id="a7ddd28191e3c5299b5d485f786e7d77a" name="a7ddd28191e3c5299b5d485f786e7d77a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ddd28191e3c5299b5d485f786e7d77a">&#9670;&#160;</a></span>sync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Store::Storage::sync </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="classFs_1_1Ufs_1_1UFSSwapDir.html#a0790335215108c47696ffecd30b95415">Fs::Ufs::UFSSwapDir</a>, <a class="el" href="classStore_1_1Controller.html#a4e6967d44b7ac1a9d92298b3a75ffe42">Store::Controller</a>, and <a class="el" href="classStore_1_1Disks.html#a9119498ab811746a0c009cfbd0fb963e">Store::Disks</a>.</p>

<p class="definition">Definition at line <a class="el" href="Storage_8h_source.html#l00078">78</a> of file <a class="el" href="Storage_8h_source.html">Storage.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>squid/src/store/<a class="el" href="Storage_8h_source.html">Storage.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceStore.html">Store</a></li><li class="navelem"><a class="el" href="classStore_1_1Storage.html">Storage</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
