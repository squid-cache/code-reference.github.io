<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Squid Web Cache: FQDN Cache API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Squid Web Cache<span id="projectnumber">&#160;master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__FQDNCacheAPI.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">FQDN Cache API<div class="ingroups"><a class="el" href="group__Components.html">Squid Components</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for FQDN Cache API:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__FQDNCacheAPI.svg" width="546" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__FQDNCacheInternal" id="r_group__FQDNCacheInternal"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FQDNCacheInternal.html">FQDN Cache Internals</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4af78ee808c6163ab1980387ac6066d6" id="r_ga4af78ee808c6163ab1980387ac6066d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FQDNCacheAPI.html#ga4af78ee808c6163ab1980387ac6066d6">fqdncache_purgelru</a> (void *)</td></tr>
<tr class="separator:ga4af78ee808c6163ab1980387ac6066d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6518159f9bc13a3ba364ae6e4c90d198" id="r_ga6518159f9bc13a3ba364ae6e4c90d198"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FQDNCacheAPI.html#ga6518159f9bc13a3ba364ae6e4c90d198">purge_entries_fromhosts</a> (void)</td></tr>
<tr class="separator:ga6518159f9bc13a3ba364ae6e4c90d198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23a7ca3e4e975993ee524b8d343616d4" id="r_ga23a7ca3e4e975993ee524b8d343616d4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FQDNCacheAPI.html#ga23a7ca3e4e975993ee524b8d343616d4">fqdncacheHandleReply</a> (void *data, const <a class="el" href="classrfc1035__rr.html">rfc1035_rr</a> *answers, <a class="el" href="stub__fd_8cc.html#a490d5097953ca1717c1cb2f05251ce45">int</a> na, const char *error_message, const bool lastAnswer)</td></tr>
<tr class="separator:ga23a7ca3e4e975993ee524b8d343616d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8ec26790231e62d26e032e56eb0e67e" id="r_gac8ec26790231e62d26e032e56eb0e67e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FQDNCacheAPI.html#gac8ec26790231e62d26e032e56eb0e67e">fqdncache_nbgethostbyaddr</a> (const <a class="el" href="classIp_1_1Address.html">Ip::Address</a> &amp;addr, <a class="el" href="fqdncache_8h.html#a013a6876b01cf22cf67e1c15fa0deaea">FQDNH</a> *handler, void *handlerData)</td></tr>
<tr class="separator:gac8ec26790231e62d26e032e56eb0e67e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8075670505bd7c7ff30bbeaa0d835c4b" id="r_ga8075670505bd7c7ff30bbeaa0d835c4b"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FQDNCacheAPI.html#ga8075670505bd7c7ff30bbeaa0d835c4b">fqdncache_gethostbyaddr</a> (const <a class="el" href="classIp_1_1Address.html">Ip::Address</a> &amp;addr, <a class="el" href="stub__fd_8cc.html#a490d5097953ca1717c1cb2f05251ce45">int</a> flags)</td></tr>
<tr class="separator:ga8075670505bd7c7ff30bbeaa0d835c4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9c6f92e801f01ff8fa314a97af14690" id="r_gad9c6f92e801f01ff8fa314a97af14690"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FQDNCacheAPI.html#gad9c6f92e801f01ff8fa314a97af14690">fqdncache_restart</a> (void)</td></tr>
<tr class="separator:gad9c6f92e801f01ff8fa314a97af14690"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3948117c2b5730028c5cbd3330353e5c" id="r_ga3948117c2b5730028c5cbd3330353e5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FQDNCacheAPI.html#ga3948117c2b5730028c5cbd3330353e5c">fqdncache_init</a> (void)</td></tr>
<tr class="separator:ga3948117c2b5730028c5cbd3330353e5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c247337926685bebfd13b45a87bb91d" id="r_ga0c247337926685bebfd13b45a87bb91d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvariable__list.html">variable_list</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FQDNCacheAPI.html#ga0c247337926685bebfd13b45a87bb91d">snmp_netFqdnFn</a> (<a class="el" href="structvariable__list.html">variable_list</a> *Var, <a class="el" href="cache__snmp_8h.html#a402085bc80f3c153c1214b31df7b5878">snint</a> *ErrP)</td></tr>
<tr class="separator:ga0c247337926685bebfd13b45a87bb91d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h1><a class="anchor" id="FQDNCacheIntroduction"></a>
Introduction</h1>
<dl class="section user"><dt></dt><dd>The FQDN cache is a built-in component of squid providing Hostname to IP-Number translation functionality and managing the involved data-structures. Efficiency concerns require mechanisms that allow non-blocking access to these mappings. The FQDN cache usually doesn't block on a request except for special cases where this is desired (see below). </dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga8075670505bd7c7ff30bbeaa0d835c4b" name="ga8075670505bd7c7ff30bbeaa0d835c4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8075670505bd7c7ff30bbeaa0d835c4b">&#9670;&#160;</a></span>fqdncache_gethostbyaddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * fqdncache_gethostbyaddr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classIp_1_1Address.html">Ip::Address</a> &amp;&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stub__fd_8cc.html#a490d5097953ca1717c1cb2f05251ce45">int</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Is different in that it only checks if an entry exists in it's data-structures and does not by default contact the DNS, unless this is requested, by setting the flags to FQDN_LOOKUP_IF_MISS.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>address of the FQDN being resolved </td></tr>
    <tr><td class="paramname">flags</td><td>values are NULL or FQDN_LOOKUP_IF_MISS. default is NULL. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fqdncache_8cc_source.html#l00481">481</a> of file <a class="el" href="fqdncache_8cc_source.html">fqdncache.cc</a>.</p>

<p class="reference">References <a class="el" href="debug_2Stream_8h.html#ad8cd33a7d75c0efd4d3fd369dc6a8f13">debugs</a>, <a class="el" href="classfqdncache__entry.html#a0f7ccc392849e2e134d6bceb3cc2c9f0">fqdncache_entry::flags</a>, <a class="el" href="defines_8h.html#a346c1caf1aa0b2062a853c4f6f67b459">FQDN_LOOKUP_IF_MISS</a>, <a class="el" href="group__FQDNCacheInternal.html#ga6dda1971476f473e709036156c247d3e">fqdncache_get()</a>, <a class="el" href="group__FQDNCacheAPI.html#gac8ec26790231e62d26e032e56eb0e67e">fqdncache_nbgethostbyaddr()</a>, <a class="el" href="group__FQDNCacheInternal.html#ga626a30c690cad7b1fe16efa73e776433">fqdncacheExpiredEntry()</a>, <a class="el" href="group__FQDNCacheInternal.html#ga2003372df0af279f08424c2ec3cc10d2">fqdncacheRelease()</a>, <a class="el" href="group__FQDNCacheInternal.html#gae5ac1f04c0c840373cafb0f98cae03b1">FqdncacheStats</a>, <a class="el" href="struct__fqdn__cache__stats.html#af21cecc84bb83e06ee766297bd702014">_fqdn_cache_stats::hits</a>, <a class="el" href="classIp_1_1Address.html#ab00ddff71da22c55159fdc8176e14ea4">Ip::Address::isAnyAddr()</a>, <a class="el" href="classIp_1_1Address.html#a9527961d8d8f2dd7983ef00f0e31e618">Ip::Address::isNoAddr()</a>, <a class="el" href="classfqdncache__entry.html#ae336cb95280d694b8cb7e85904a3ad24">fqdncache_entry::lastref</a>, <a class="el" href="ip_2forward_8h.html#a28806a9f06b4d32dab73b27053f10494">MAX_IPSTRLEN</a>, <a class="el" href="struct__fqdn__cache__stats.html#a03b6bf495b1c7cbad7a3c77635300f5c">_fqdn_cache_stats::misses</a>, <a class="el" href="classfqdncache__entry.html#afb465f3e434f448cb08db4e8ad80d33d">fqdncache_entry::names</a>, <a class="el" href="struct__fqdn__cache__stats.html#a130798b07c92c06648f3191063b51edc">_fqdn_cache_stats::negative_hits</a>, <a class="el" href="structfqdncache__entry_1_1Flags.html#a3466d2f79ccfa40564246c67a6e28ca8">fqdncache_entry::Flags::negcached</a>, <a class="el" href="struct__fqdn__cache__stats.html#a29256a5cd86144772b6fa847c22f150f">_fqdn_cache_stats::requests</a>, <a class="el" href="Pool_8cc.html#a161e26ef0307ccb4300ad3ea54bf9fd4">squid_curtime</a>, and <a class="el" href="classIp_1_1Address.html#a00a47f51e0c2b78115495af295924aee">Ip::Address::toStr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="client__db_8cc.html#af53766cb613d1b412ae2c19bf06e5dfa">clientdbDump()</a>, <a class="el" href="classAccessLogEntry.html#acc652deb82df3de441be292f7d4ad582">AccessLogEntry::getLogClientFqdn()</a>, <a class="el" href="classAcl_1_1DestinationDomainCheck.html#ab755419db69ff0aa63819f2d32ce04c3">Acl::DestinationDomainCheck::match()</a>, <a class="el" href="classAcl_1_1SourceDomainCheck.html#a19f34a01072ca72a30a039f433bf67e8">Acl::SourceDomainCheck::match()</a>, and <a class="el" href="classConnStateData.html#ac77da03e4e8e0e9d8365fc84e425bdfa">ConnStateData::whenClientIpKnown()</a>.</p>

</div>
</div>
<a id="ga3948117c2b5730028c5cbd3330353e5c" name="ga3948117c2b5730028c5cbd3330353e5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3948117c2b5730028c5cbd3330353e5c">&#9670;&#160;</a></span>fqdncache_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fqdncache_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the fqdncache. Called after IP cache initialization. </p>

<p class="definition">Definition at line <a class="el" href="fqdncache_8cc_source.html#l00685">685</a> of file <a class="el" href="fqdncache_8cc_source.html">fqdncache.cc</a>.</p>

<p class="reference">References <a class="el" href="SquidConfig_8cc.html#a75b136e6a1eef61424d84596a404aafe">Config</a>, <a class="el" href="debug_2Stream_8h.html#ad8cd33a7d75c0efd4d3fd369dc6a8f13">debugs</a>, <a class="el" href="group__FQDNCacheInternal.html#ga9ba4d3d918dde38e95a2a05924032d15">FQDN_HIGH_WATER</a>, <a class="el" href="group__FQDNCacheInternal.html#ga52bea33b0caffda255f3afc3ee7e0c34">FQDN_LOW_WATER</a>, <a class="el" href="group__FQDNCacheInternal.html#ga26a6760e58f349babc3a928ed0c4701a">fqdn_table</a>, <a class="el" href="classSquidConfig.html#a58e6d2fcc2eaf0f9b3ac28663cd668c0">SquidConfig::fqdncache</a>, <a class="el" href="group__FQDNCacheInternal.html#ga6410d7825f9f7cc466d1334cb3684e42">fqdncache_high</a>, <a class="el" href="group__FQDNCacheInternal.html#ga295c577fd3f6377b44951565c61b9c11">fqdncache_low</a>, <a class="el" href="group__FQDNCacheInternal.html#ga4eb6956f8f8a614403224b7f4498c40a">fqdncacheRegisterWithCacheManager()</a>, <a class="el" href="group__FQDNCacheInternal.html#gae5ac1f04c0c840373cafb0f98cae03b1">FqdncacheStats</a>, <a class="el" href="hash_8h.html#ac1948efc14a3d471e7ed76de43930acb">hash4</a>, <a class="el" href="hash_8h.html#a4a32cf52b89feda38da3202441870f6e">hash_create()</a>, <a class="el" href="hash_8h.html#acffdcc2508d61af1c633fae49d753746">hashPrime()</a>, <a class="el" href="group__FQDNCacheInternal.html#gabe91ce5952a78337cfe54689f28183a7">lru_list</a>, and <a class="el" href="classSquidConfig.html#ade808dbd35826483edd77b7659a6d4fe">SquidConfig::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="main_8cc.html#afa78696c5a9a5eb1f32a47d8b87cb9a0">mainInitialize()</a>.</p>

</div>
</div>
<a id="gac8ec26790231e62d26e032e56eb0e67e" name="gac8ec26790231e62d26e032e56eb0e67e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac8ec26790231e62d26e032e56eb0e67e">&#9670;&#160;</a></span>fqdncache_nbgethostbyaddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fqdncache_nbgethostbyaddr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classIp_1_1Address.html">Ip::Address</a> &amp;&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fqdncache_8h.html#a013a6876b01cf22cf67e1c15fa0deaea">FQDNH</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handlerData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>IP address of domain to resolve. </td></tr>
    <tr><td class="paramname">handler</td><td>A pointer to the function to be called when the reply from the FQDN cache (or the DNS if the FQDN cache misses) </td></tr>
    <tr><td class="paramname">handlerData</td><td>Information that is passed to the handler and does not affect the FQDN cache. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fqdncache_8cc_source.html#l00414">414</a> of file <a class="el" href="fqdncache_8cc_source.html">fqdncache.cc</a>.</p>

<p class="reference">References <a class="el" href="cbdata_8h.html#a23338dbb451f460facd39a8a249bab46">cbdataReference</a>, <a class="el" href="time_2gadgets_8cc.html#a502612b4a32c5902726b120d713d7952">current_time</a>, <a class="el" href="debug_2Stream_8h.html#ad8cd33a7d75c0efd4d3fd369dc6a8f13">debugs</a>, <a class="el" href="classfqdncache__entry.html#a0f7ccc392849e2e134d6bceb3cc2c9f0">fqdncache_entry::flags</a>, <a class="el" href="group__FQDNCacheInternal.html#ga6dda1971476f473e709036156c247d3e">fqdncache_get()</a>, <a class="el" href="group__FQDNCacheInternal.html#gaf9d3db2969e88ba2bf3d4c338062ef5e">fqdncacheCallback()</a>, <a class="el" href="group__FQDNCacheInternal.html#ga626a30c690cad7b1fe16efa73e776433">fqdncacheExpiredEntry()</a>, <a class="el" href="fqdncache_8cc.html#ab02a00040989fd6d25bccb469bead8e5">fqdncacheHandleReply</a>, <a class="el" href="group__FQDNCacheInternal.html#ga2003372df0af279f08424c2ec3cc10d2">fqdncacheRelease()</a>, <a class="el" href="group__FQDNCacheInternal.html#gae5ac1f04c0c840373cafb0f98cae03b1">FqdncacheStats</a>, <a class="el" href="classfqdncache__entry.html#aa2db922384bb4210b53d2fc56ea64f0f">fqdncache_entry::handler</a>, <a class="el" href="classfqdncache__entry.html#a5be80bf7e3f3d8068f1fbe267950fde2">fqdncache_entry::handlerData</a>, <a class="el" href="struct__fqdn__cache__stats.html#af21cecc84bb83e06ee766297bd702014">_fqdn_cache_stats::hits</a>, <a class="el" href="dns_2forward_8h.html#ab5524bc0421ba5d5afc81169d8847167">idnsPTRLookup()</a>, <a class="el" href="ip_2forward_8h.html#a28806a9f06b4d32dab73b27053f10494">MAX_IPSTRLEN</a>, <a class="el" href="struct__fqdn__cache__stats.html#a03b6bf495b1c7cbad7a3c77635300f5c">_fqdn_cache_stats::misses</a>, <a class="el" href="struct__fqdn__cache__stats.html#a130798b07c92c06648f3191063b51edc">_fqdn_cache_stats::negative_hits</a>, <a class="el" href="structfqdncache__entry_1_1Flags.html#a3466d2f79ccfa40564246c67a6e28ca8">fqdncache_entry::Flags::negcached</a>, <a class="el" href="classfqdncache__entry.html#a472fb3191e1e60cccc6b6860df01d214">fqdncache_entry::request_time</a>, <a class="el" href="struct__fqdn__cache__stats.html#a29256a5cd86144772b6fa847c22f150f">_fqdn_cache_stats::requests</a>, and <a class="el" href="classIp_1_1Address.html#a00a47f51e0c2b78115495af295924aee">Ip::Address::toStr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__FQDNCacheAPI.html#ga8075670505bd7c7ff30bbeaa0d835c4b">fqdncache_gethostbyaddr()</a>, <a class="el" href="SourceDomain_8cc.html#ac2a0101ed1f83d40c6b6357a6d2e84bb">StartLookup()</a>, and <a class="el" href="DestinationDomain_8cc.html#ac725c19db28b872ff9e4eb5f6c882bf3">StartLookup()</a>.</p>

</div>
</div>
<a id="ga4af78ee808c6163ab1980387ac6066d6" name="ga4af78ee808c6163ab1980387ac6066d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4af78ee808c6163ab1980387ac6066d6">&#9670;&#160;</a></span>fqdncache_purgelru()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fqdncache_purgelru </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fqdncache_8cc_source.html#l00200">200</a> of file <a class="el" href="fqdncache_8cc_source.html">fqdncache.cc</a>.</p>

<p class="reference">References <a class="el" href="classdlink__node.html#a06bd2bfe93cc751ab5b29b033e6ac65e">dlink_node::data</a>, <a class="el" href="debug_2Stream_8h.html#ad8cd33a7d75c0efd4d3fd369dc6a8f13">debugs</a>, <a class="el" href="event_8cc.html#afbfd8e1e91d5ad60e6124aea52a5f006">eventAdd()</a>, <a class="el" href="group__FQDNCacheInternal.html#ga295c577fd3f6377b44951565c61b9c11">fqdncache_low</a>, <a class="el" href="group__FQDNCacheAPI.html#ga4af78ee808c6163ab1980387ac6066d6">fqdncache_purgelru()</a>, <a class="el" href="group__FQDNCacheInternal.html#ga9ec5582be439f60d25e38e6b5aca84e2">fqdncacheCount()</a>, <a class="el" href="group__FQDNCacheInternal.html#ga2003372df0af279f08424c2ec3cc10d2">fqdncacheRelease()</a>, <a class="el" href="classfqdncache__entry.html#a5b90485deab18b22f4ea4c576b6c22d2">fqdncache_entry::locks</a>, <a class="el" href="group__FQDNCacheInternal.html#gabe91ce5952a78337cfe54689f28183a7">lru_list</a>, <a class="el" href="classdlink__node.html#a4660c70e36112cd329b84f7152a671fa">dlink_node::prev</a>, and <a class="el" href="classdlink__list.html#a532f15958755b4d0d6356f7a52291d4e">dlink_list::tail</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__FQDNCacheAPI.html#ga4af78ee808c6163ab1980387ac6066d6">fqdncache_purgelru()</a>, and <a class="el" href="main_8cc.html#afa78696c5a9a5eb1f32a47d8b87cb9a0">mainInitialize()</a>.</p>

</div>
</div>
<a id="gad9c6f92e801f01ff8fa314a97af14690" name="gad9c6f92e801f01ff8fa314a97af14690"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad9c6f92e801f01ff8fa314a97af14690">&#9670;&#160;</a></span>fqdncache_restart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fqdncache_restart </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Recalculate FQDN cache size upon reconfigure. Is called to clear the FQDN cache's data structures, cancel all pending requests. </p>

<p class="definition">Definition at line <a class="el" href="fqdncache_8cc_source.html#l00620">620</a> of file <a class="el" href="fqdncache_8cc_source.html">fqdncache.cc</a>.</p>

<p class="reference">References <a class="el" href="SquidConfig_8cc.html#a75b136e6a1eef61424d84596a404aafe">Config</a>, <a class="el" href="group__FQDNCacheInternal.html#ga9ba4d3d918dde38e95a2a05924032d15">FQDN_HIGH_WATER</a>, <a class="el" href="group__FQDNCacheInternal.html#ga52bea33b0caffda255f3afc3ee7e0c34">FQDN_LOW_WATER</a>, <a class="el" href="classSquidConfig.html#a58e6d2fcc2eaf0f9b3ac28663cd668c0">SquidConfig::fqdncache</a>, <a class="el" href="group__FQDNCacheInternal.html#ga6410d7825f9f7cc466d1334cb3684e42">fqdncache_high</a>, <a class="el" href="group__FQDNCacheInternal.html#ga295c577fd3f6377b44951565c61b9c11">fqdncache_low</a>, <a class="el" href="group__FQDNCacheAPI.html#ga6518159f9bc13a3ba364ae6e4c90d198">purge_entries_fromhosts()</a>, and <a class="el" href="classSquidConfig.html#ade808dbd35826483edd77b7659a6d4fe">SquidConfig::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="main_8cc.html#a98bc6a7edc4cba3d69919e84bb20cedd">mainReconfigureFinish()</a>.</p>

</div>
</div>
<a id="ga23a7ca3e4e975993ee524b8d343616d4" name="ga23a7ca3e4e975993ee524b8d343616d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga23a7ca3e4e975993ee524b8d343616d4">&#9670;&#160;</a></span>fqdncacheHandleReply()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fqdncacheHandleReply </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classrfc1035__rr.html">rfc1035_rr</a> *&#160;</td>
          <td class="paramname"><em>answers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stub__fd_8cc.html#a490d5097953ca1717c1cb2f05251ce45">int</a>&#160;</td>
          <td class="paramname"><em>na</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>error_message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>lastAnswer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Callback for handling DNS results. </p>

<p class="definition">Definition at line <a class="el" href="fqdncache_8cc_source.html#l00390">390</a> of file <a class="el" href="fqdncache_8cc_source.html">fqdncache.cc</a>.</p>

<p class="reference">References <a class="el" href="classfqdncache__entry.html#a45b9b13ba767ef1de2a6cb90574a9a6a">fqdncache_entry::age()</a>, <a class="el" href="assert_8h.html#a33fa45e42155e69ce8d0da0fd978b351">assert</a>, <a class="el" href="classStatHist.html#ac040b690ee1c593fe3e5e32960abfc53">StatHist::count()</a>, <a class="el" href="classStatCounters.html#a978ba2675eb553c359eb1e395e2574d3">StatCounters::dns</a>, <a class="el" href="group__FQDNCacheInternal.html#ga0de583609ad96e3293d7c4d0a52cddd3">fqdncacheAddEntry()</a>, <a class="el" href="group__FQDNCacheInternal.html#gaf9d3db2969e88ba2bf3d4c338062ef5e">fqdncacheCallback()</a>, <a class="el" href="group__FQDNCacheInternal.html#ga8000245852ed92ada2ae46ea004595ab">fqdncacheParse()</a>, <a class="el" href="group__FQDNCacheInternal.html#gae5ac1f04c0c840373cafb0f98cae03b1">FqdncacheStats</a>, <a class="el" href="struct__fqdn__cache__stats.html#a6fabdc2959f7bf97765a0d67f9f0aa17">_fqdn_cache_stats::replies</a>, <a class="el" href="StatCounters_8cc.html#a97511f6512b50279a2cd9cf1446060d7">statCounter</a>, and <a class="el" href="classStatCounters.html#a42ed7fb2a37f9dc42af59dafa44ef7a8">StatCounters::svcTime</a>.</p>

</div>
</div>
<a id="ga6518159f9bc13a3ba364ae6e4c90d198" name="ga6518159f9bc13a3ba364ae6e4c90d198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6518159f9bc13a3ba364ae6e4c90d198">&#9670;&#160;</a></span>purge_entries_fromhosts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void purge_entries_fromhosts </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fqdncache_8cc_source.html#l00229">229</a> of file <a class="el" href="fqdncache_8cc_source.html">fqdncache.cc</a>.</p>

<p class="reference">References <a class="el" href="classdlink__node.html#a06bd2bfe93cc751ab5b29b033e6ac65e">dlink_node::data</a>, <a class="el" href="classfqdncache__entry.html#a0f7ccc392849e2e134d6bceb3cc2c9f0">fqdncache_entry::flags</a>, <a class="el" href="group__FQDNCacheInternal.html#ga2003372df0af279f08424c2ec3cc10d2">fqdncacheRelease()</a>, <a class="el" href="structfqdncache__entry_1_1Flags.html#ada7b1c62979af95317cf29c9e663b30e">fqdncache_entry::Flags::fromhosts</a>, <a class="el" href="classdlink__list.html#a60d7fc0293487a5b5914f10acae1e120">dlink_list::head</a>, <a class="el" href="group__FQDNCacheInternal.html#gabe91ce5952a78337cfe54689f28183a7">lru_list</a>, and <a class="el" href="classdlink__node.html#ad1228295f9f83f14e0c58966479cfbd7">dlink_node::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__FQDNCacheAPI.html#gad9c6f92e801f01ff8fa314a97af14690">fqdncache_restart()</a>, and <a class="el" href="group__IPCacheAPI.html#ga338672cea44c9d19d465b0ef9d229194">ipcache_restart()</a>.</p>

</div>
</div>
<a id="ga0c247337926685bebfd13b45a87bb91d" name="ga0c247337926685bebfd13b45a87bb91d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0c247337926685bebfd13b45a87bb91d">&#9670;&#160;</a></span>snmp_netFqdnFn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvariable__list.html">variable_list</a> * snmp_netFqdnFn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvariable__list.html">variable_list</a> *&#160;</td>
          <td class="paramname"><em>Var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cache__snmp_8h.html#a402085bc80f3c153c1214b31df7b5878">snint</a> *&#160;</td>
          <td class="paramname"><em>ErrP</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function to return the FQDN statistics via SNMP </p>

<p class="definition">Definition at line <a class="el" href="fqdncache_8cc_source.html#l00716">716</a> of file <a class="el" href="fqdncache_8cc_source.html">fqdncache.cc</a>.</p>

<p class="reference">References <a class="el" href="debug_2Stream_8h.html#ad8cd33a7d75c0efd4d3fd369dc6a8f13">debugs</a>, <a class="el" href="cache__snmp_8h.html#abc5c98fcc1211af2b80116dd6e0a035dabf522df52bbc8021811501f0c3f63cef">FQDN_ENT</a>, <a class="el" href="cache__snmp_8h.html#abc5c98fcc1211af2b80116dd6e0a035da63ae31009771a9b52cd15be9f1a3acf7">FQDN_GHBN</a>, <a class="el" href="cache__snmp_8h.html#abc5c98fcc1211af2b80116dd6e0a035da77592bd19dd240869c135fd30fa36569">FQDN_HITS</a>, <a class="el" href="cache__snmp_8h.html#abc5c98fcc1211af2b80116dd6e0a035daa6b6af9866fdd35e6c90fcdd261d540c">FQDN_MISS</a>, <a class="el" href="cache__snmp_8h.html#abc5c98fcc1211af2b80116dd6e0a035da5779d28c444ac4bc532aa23b85c4a320">FQDN_NEGHIT</a>, <a class="el" href="cache__snmp_8h.html#abc5c98fcc1211af2b80116dd6e0a035da237c47eb9e8cfb443b6363ace032ab90">FQDN_PENDHIT</a>, <a class="el" href="cache__snmp_8h.html#abc5c98fcc1211af2b80116dd6e0a035dacae524cebc4e35e6bf98e263d436455e">FQDN_REQ</a>, <a class="el" href="group__FQDNCacheInternal.html#ga9ec5582be439f60d25e38e6b5aca84e2">fqdncacheCount()</a>, <a class="el" href="group__FQDNCacheInternal.html#gae5ac1f04c0c840373cafb0f98cae03b1">FqdncacheStats</a>, <a class="el" href="struct__fqdn__cache__stats.html#af21cecc84bb83e06ee766297bd702014">_fqdn_cache_stats::hits</a>, <a class="el" href="cache__snmp_8h.html#a37e5b489486a8da6f47882e3c34bed54">LEN_SQ_NET</a>, <a class="el" href="struct__fqdn__cache__stats.html#a03b6bf495b1c7cbad7a3c77635300f5c">_fqdn_cache_stats::misses</a>, <a class="el" href="structvariable__list.html#a7b5bdda01921550d24ea53033ce76146">variable_list::name</a>, <a class="el" href="structvariable__list.html#a0be9073107c69f2804e2a2c3267d2c91">variable_list::name_length</a>, <a class="el" href="struct__fqdn__cache__stats.html#a130798b07c92c06648f3191063b51edc">_fqdn_cache_stats::negative_hits</a>, <a class="el" href="struct__fqdn__cache__stats.html#a29256a5cd86144772b6fa847c22f150f">_fqdn_cache_stats::requests</a>, <a class="el" href="snmp__vars_8h.html#a4cea1870241df085fbff5da2e3fa7545">SMI_COUNTER32</a>, <a class="el" href="snmp__vars_8h.html#a063ec3ae4fd2d1969a5919d17d4091c3">SMI_GAUGE32</a>, <a class="el" href="snmp__error_8h.html#a446c0c599803ad500e77cae181722b99">SNMP_ERR_NOERROR</a>, <a class="el" href="snmp__error_8h.html#aebd8e0df600910b189039c9b603c0f8e">SNMP_ERR_NOSUCHNAME</a>, <a class="el" href="snmp__vars_8h.html#ac604cc30362ac2901cd3a11737d275dc">snmp_var_new_integer()</a>, and <a class="el" href="snmp__core_8cc.html#a2f4ed8725d5d87d123631e65d9b4c072">snmpDebugOid()</a>.</p>

<p class="reference">Referenced by <a class="el" href="snmp__core_8cc.html#ac13dfa5ab7422c2ddcb16604bd0879a0">snmpInit()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
